

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.15.1.2. eqcorrscan.utils.sfile_util.eventtosfile &mdash; EQcorrscan 0.2.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/EQcorrscan_logo.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="EQcorrscan 0.2.5 documentation" href="../../index.html"/>
        <link rel="up" title="5.15. sfile_util" href="../utils.sfile_util.html"/>
        <link rel="next" title="5.15.1.3. eqcorrscan.utils.sfile_util.nordpick" href="eqcorrscan.utils.sfile_util.nordpick.html"/>
        <link rel="prev" title="5.15.1.1. eqcorrscan.utils.sfile_util.blanksfile" href="eqcorrscan.utils.sfile_util.blanksfile.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> EQcorrscan
          

          
            
            <img src="../../_static/EQcorrscan_logo.jpg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">1. Introduction to the EQcorrscan package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../updates.html">2. What&#8217;s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">3. EQcorrscan tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core.html">4. Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../utils.html">5. Utils</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../utils.archive_read.html">5.1. archive_read</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.catalog_to_dd.html">5.2. catalog_to_dd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.catalog_utils.html">5.3. catalog_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.clustering.html">5.4. clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.correlate.html">5.5. correlate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.despike.html">5.6. despike</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.findpeaks.html">5.7. findpeaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.mag_calc.html">5.8. mag_calc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.parameters.html">5.9. parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.picker.html">5.10. picker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.plotting.html">5.11. plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.pre_processing.html">5.12. pre_processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.sac_util.html">5.13. sac_util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.seismo_logs.html">5.14. seismo_logs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../utils.sfile_util.html">5.15. sfile_util</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../utils.sfile_util.html#functions">5.15.1. Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.blanksfile.html">5.15.1.1. eqcorrscan.utils.sfile_util.blanksfile</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">5.15.1.2. eqcorrscan.utils.sfile_util.eventtosfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.nordpick.html">5.15.1.3. eqcorrscan.utils.sfile_util.nordpick</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.populatesfile.html">5.15.1.4. eqcorrscan.utils.sfile_util.populatesfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.readheader.html">5.15.1.5. eqcorrscan.utils.sfile_util.readheader</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.readpicks.html">5.15.1.6. eqcorrscan.utils.sfile_util.readpicks</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.readwavename.html">5.15.1.7. eqcorrscan.utils.sfile_util.readwavename</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.utils.sfile_util.stationtoseisan.html">5.15.1.8. eqcorrscan.utils.sfile_util.stationtoseisan</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utils.sfile_util.html#private-functions">5.15.2. Private Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utils.stacking.html">5.16. stacking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.synth_seis.html">5.17. synth_seis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.trigger.html">5.18. trigger</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EQcorrscan</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../utils.html">5. Utils</a> &raquo;</li>
        
          <li><a href="../utils.sfile_util.html">5.15. sfile_util</a> &raquo;</li>
        
      <li>5.15.1.2. eqcorrscan.utils.sfile_util.eventtosfile</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/submodules/autogen/eqcorrscan.utils.sfile_util.eventtosfile.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="eqcorrscan-utils-sfile-util-eventtosfile">
<h1>5.15.1.2. eqcorrscan.utils.sfile_util.eventtosfile<a class="headerlink" href="#eqcorrscan-utils-sfile-util-eventtosfile" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="eqcorrscan.utils.sfile_util.eventtosfile">
<code class="descclassname">eqcorrscan.utils.sfile_util.</code><code class="descname">eventtosfile</code><span class="sig-paren">(</span><em>event</em>, <em>userID</em>, <em>evtype</em>, <em>outdir</em>, <em>wavefiles</em>, <em>explosion=False</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eqcorrscan/utils/sfile_util.html#eventtosfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.utils.sfile_util.eventtosfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an obspy.event to a nordic formatted s-file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> (<em>obspy.core.event.Event</em>) <span class="dash" /> A single obspy event</li>
<li><strong>userID</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) <span class="dash" /> Up to 4 character user ID</li>
<li><strong>evtype</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) <span class="dash" /> Single character string to describe the event, either L, R         or D.</li>
<li><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) <span class="dash" /> Path to directory to write to</li>
<li><strong>wavefiles</strong> (<em>list</em>) <span class="dash" /> Waveforms to associate the sfile with</li>
<li><strong>explosion</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) <span class="dash" /> Note if the event is an explosion, will be marked by an         E.</li>
<li><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) <span class="dash" /> force to overwrite old files, defaults to False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">str: name of sfile written</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Seisan can find waveforms either by their relative or absolute         path, or by looking for the file recursively in directories within         the WAV directory in your seisan install.  Because all lines need to         be less than 79 ccharacterslong (fortran hangover) in the s-files,         you will need to determine whether the full-path is okay or not.</p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">obspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note that this example shows how to download from GeoNet which</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># doesn&#39;t have full fdsn capability.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">obspy</span><span class="o">.</span><span class="n">__version__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">... </span>   <span class="kn">from</span> <span class="nn">obspy.clients.fdsn</span> <span class="k">import</span> <span class="n">Client</span>
<span class="gp">... </span>   <span class="kn">from</span> <span class="nn">obspy</span> <span class="k">import</span> <span class="n">read_events</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>   <span class="kn">from</span> <span class="nn">obspy.fdsn</span> <span class="k">import</span> <span class="n">Client</span>
<span class="gp">... </span>   <span class="kn">from</span> <span class="nn">obspy</span> <span class="k">import</span> <span class="n">readEvents</span> <span class="k">as</span> <span class="n">read_events</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s1">&#39;GEONET&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_stream</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">_download</span><span class="p">(</span><span class="s1">&#39;http://quakeml.geonet.org.nz/&#39;</span> <span class="o">+</span>
<span class="gp">... </span>                               <span class="s1">&#39;quakeml/1.2/2016p008122&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">close</span> <span class="o">=</span> <span class="n">data_stream</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">catalog</span> <span class="o">=</span> <span class="n">read_events</span><span class="p">(</span><span class="n">data_stream</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;quakeml&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eventtosfile</span><span class="p">(</span><span class="n">catalog</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;TEST&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;DUMMY&#39;</span><span class="p">],</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;04-0007-55R.S201601&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="eqcorrscan.utils.sfile_util.nordpick.html" class="btn btn-neutral float-right" title="5.15.1.3. eqcorrscan.utils.sfile_util.nordpick" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="eqcorrscan.utils.sfile_util.blanksfile.html" class="btn btn-neutral" title="5.15.1.1. eqcorrscan.utils.sfile_util.blanksfile" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016: EQcorrscan developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.2.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>