{% load pcart_core %}
{% if not field|is_hidden_input %}
<div class="{% if field|is_checkbox %}checkbox{% else %}form-group{% endif %} {% if field.errors %}has-error{% endif %}">
    {% if field.errors %}
    <ul class="list-unstyled">
        {% for error in field.errors %}<li class="text-danger"><small>{{error}}</small></li>{% endfor %}
    </ul>{% endif %}
    {% if field|is_checkbox %}
    <label>{{field}} {{field.label|safe}} {% if field.field.required %}<span>*</span>{% endif %}</label>
    {% else %}
    <label class="control-label" for="{{field.id_for_label}}">{{field.label|safe}}
        {% if field.field.required %}<span>*</span>{% endif %}
    </label>
    {{field|widget_css_class:"form-control"}}
    {% endif %}
    {% if field.help_text %}<p class="help-block">{{field.help_text|safe}}</p>{% endif %}
</div>
{% else %}
    {{field}}
{% endif %}