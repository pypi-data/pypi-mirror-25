version: 0.1.1
reference: PRJ01
vars:
  - local_wkspace: Desktop/workfplace
vm:
# -------------------------------------
#  Manage stdin
  -
    name: Manage stdin
    operation: command
    in: container3
    command: git clone {MY_REPO_X} {now}
    inputs:
      - "{GITLAB_USER}"
      - "{GITLAB_PASSWORD}"
    sleep: 8
    input_sleep: 8
    timeout: 40
    pre_confirm: False
    post_confirm: False
# -------------------------------------
#  ls etc in sudo mode
#  -
#    name: ls etc in sudo mode
#    operation: command
#    in: container3
#    command:  sudo ls /etc
# -------------------------------------
#  Here is local and remote command to list files
# Testing path joins, confirms after and before
#  -
#    name: List all files
#    operation: command
#    in: mc
#    command: ls -alh
#    path: eclipse
#    pre_confirm: True
#    post_confirm: True
#  -
#    name: List all files
#    operation: command
#    in: mc
#    command: ls -alh
#    path: /tmp
#    pre_confirm: True
#    post_confirm: False
#  -
#    name: List all files
#    operation: command
#    in: container1
#    command: ls -alh
#    path: Net
#    pre_confirm: False
#    post_confirm: True
#  -
#    name: List all files
#    operation: command
#    in: container1
#    command: ls -alh
#    path: /lib
#    pre_confirm: False
#    post_confirm: False
# -------------------------------------
#  Backup local folders
#  -
#    name: Backup local folders
#    operation: sync
#    from: mc
#    to: mc
#    source: {local_wkspace}/board_alerts
#    destination: {local_wkspace}/board_alerts_{now}
#  -
#    name: Backup local folders
#    operation: sync
#    from: mc
#    to: mc
#    source: {local_wkspace}/board_alerts
#    destination: {local_wkspace}/board_alerts_{today}
# -------------------------------------
#  Sync local folders
#  -
#    name: Sync local folders
#    operation: sync
#    from: mc
#    to: mc
#    source: {local_wkspace}/board_alerts
#    destination: {local_wkspace}/board_alerts2
#  -
#    name: Sync local folders
#    operation: copy_directory
#    from: mc
#    to: mc
#    source: {local_wkspace}/board_alerts
#    destination: {local_wkspace}/dirs
#  -
#    name: Sync local folders
#    operation: copy_file
#    from: mc
#    to: mc
#    source: {local_wkspace}/board_alerts/.hide
#    destination: {local_wkspace}/files
#  -
#    name: Sync local folders
#    operation: copy_content
#    from: mc
#    to: mc
#    source: {local_wkspace}/board_alerts/__openerp__.py
#    destination: {local_wkspace}/files/__manifest__.py
# -------------------------------------
#  Sync  local to container 1
#  -
#    name: Sync  local to container 1
#    operation: sync
#    from: mc
#    to: container1
#    source: {local_wkspace}/board_alerts
#    destination: workspace/v1/rr/board_alerts
#  -
#    name: Sync  local to container 1
#    operation: copy_directory
#    from: mc
#    to: container1
#    source: {local_wkspace}/board_alerts
#    destination: workspace/v1/rr/dirs
#  -
#    name: Sync  local to container 1
#    operation: copy_file
#    from: mc
#    to: container1
#    source: {local_wkspace}/board_alerts/.hide
#    destination: workspace/v1/rr/files
#  -
#    name: Sync  local to container 1
#    operation: copy_content
#    from: mc
#    to: container1
#    source: {local_wkspace}/board_alerts/__openerp__.py
#    destination: workspace/v1/rr/files/__manifest__.py
# -------------------------------------
#  Sync  container 1 to container 2
#  -
#    name: Sync  container 1 to container 2
#    operation: sync
#    from: container1
#    to: container2
#    source: workspace/v1/rr/board_alerts
#    destination: workspace/v1/rr/board_alerts
#  -
#    name: Sync  container 1 to container 2
#    operation: copy_directory
#    from: container1
#    to: container2
#    source: workspace/v1/rr/board_alerts
#    destination: workspace/v1/rr/dirs
#  -
#    name: Sync  container 1 to container 2
#    operation: copy_file
#    from: container1
#    to: container2
#    source: workspace/v1/rr/board_alerts/.hide
#    destination: workspace/v1/rr/files
#  -
#    name: Sync  container 1 to container 2
#    operation: copy_content
#    from: container1
#    to: container2
#    source: workspace/v1/rr/board_alerts/__openerp__.py
#    destination: workspace/v1/rr/files/__manifest__.py
# -------------------------------------
#  Sync  container 2 to local
#  -
#    name: Sync  container 2 to local
#    operation: sync
#    from: container2
#    to: mc
#    source: workspace/v1/rr/board_alerts
#    destination: {local_wkspace}/remote/board_alerts
#  -
#    name: Sync  container 2 to local
#    operation: copy_directory
#    from: container2
#    to: mc
#    source: workspace/v1/rr/board_alerts
#    destination: {local_wkspace}/remote/dirs
#  -
#    name: Sync  container 2 to local
#    operation: copy_file
#    from: container2
#    to: mc
#    source: workspace/v1/rr/board_alerts/.hide
#    destination: {local_wkspace}/remote/files
#  -
#    name: Sync  container 2 to local
#    operation: copy_content
#    from: container2
#    to: mc
#    source: workspace/v1/rr/board_alerts/__openerp__.py
#    destination: {local_wkspace}/remote/files/__manifest__.py

hosts:
  container1: # docker run -d -p 2233:22 --rm  --name test_sshd33 rastasheep/ubuntu-sshd:14.04
    type: remote
    host: localhost
    port: 2233
    login: root
    password: root
    path: /root
  container2: # docker run -d -p 2234:22 --rm  --name test_sshd34 rastasheep/ubuntu-sshd:14.04
    type: remote
    host: localhost
    port: 2234
    login: root
    password: root
    path: /root
  container3: # adduser test2 , pass test2
    type: remote
    host: localhost
    port: 2233
    login: test2
    password: test2
    path: /home/test2
  mc:
    path: "{HOME}"
    type: local
