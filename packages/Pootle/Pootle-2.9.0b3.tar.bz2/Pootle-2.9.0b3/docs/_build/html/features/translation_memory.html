
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Translation Memory &#8212; Pootle 2.9.0b3 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.9.0b3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Machine Translation" href="machine_translation.html" />
    <link rel="prev" title="Quality checks" href="checks.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.9</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../server/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Translation Memory</a><ul>
<li><a class="reference internal" href="#using-translation-memory">Using Translation Memory</a></li>
<li><a class="reference internal" href="#configuring-translation-memory">Configuring Translation Memory</a><ul>
<li><a class="reference internal" href="#amagama-based-remote-tm">Amagama based remote TM</a></li>
<li><a class="reference internal" href="#elasticsearch-based-tms">Elasticsearch-based TMs</a><ul>
<li><a class="reference internal" href="#elasticsearch-based-local-tm">Elasticsearch-based local TM</a></li>
<li><a class="reference internal" href="#elasticsearch-based-external-tms">Elasticsearch-based external TMs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="checks.html"
         title="previous chapter">&laquo; Quality checks</a></li>
  <li><a href="machine_translation.html"
         title="next chapter">Machine Translation &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="translation-memory">
<span id="id1"></span><h1>Translation Memory<a class="headerlink" href="#translation-memory" title="Permalink to this headline">¶</a></h1>
<p>Pootle provides matching translations to the current string.  Translator can
use these matches as their translation or to aid their translation.</p>
<p>Matches are based on previous translations of similar strings.  These
Translation Memory (TM) matches mean that you can speed up your translation and
ensure consistency across your work.</p>
<div class="section" id="using-translation-memory">
<span id="translation-memory-using-translation-memory"></span><h2>Using Translation Memory<a class="headerlink" href="#using-translation-memory" title="Permalink to this headline">¶</a></h2>
<p>Translation Memory matches are automatically retrieved when you enter a new
translation unit. These are displayed below the editing widget.  You can insert
a TM match by clicking on a match row.</p>
<p>The differences between the current string and the match are highlighted, this
allows you to see how the two differ and helps you make changes to the match to
adapt it for use with the current string.</p>
</div>
<div class="section" id="configuring-translation-memory">
<span id="translation-memory-configuring-translation-memory"></span><h2>Configuring Translation Memory<a class="headerlink" href="#configuring-translation-memory" title="Permalink to this headline">¶</a></h2>
<p>Translation Memory will work out of the box with a default Pootle installation.
There are three methods of getting Translation Memory.</p>
<ol class="arabic simple">
<li>Amagama - for remote Translation Memory</li>
<li>Elasticsearch - for local Translation Memory</li>
<li>Elasticsearch - for external Translation Memory</li>
</ol>
<div class="section" id="amagama-based-remote-tm">
<span id="translation-memory-amagama"></span><h3>Amagama based remote TM<a class="headerlink" href="#amagama-based-remote-tm" title="Permalink to this headline">¶</a></h3>
<p>By default Pootle will query Translate’s <a class="reference external" href="http://amagama.translatehouse.org">Amagama</a> Translation Memory server, which hosts
translations of an extensive collection of Opensource software.</p>
<p>If you want to setup and connect to your own TM server then the
<a class="reference internal" href="../server/settings.html#std:setting-AMAGAMA_URL"><code class="xref std std-setting docutils literal"><span class="pre">AMAGAMA_URL</span></code></a> will allow you to point to a private TM server.</p>
<p>To disable Amagama set <a class="reference internal" href="../server/settings.html#std:setting-AMAGAMA_URL"><code class="xref std std-setting docutils literal"><span class="pre">AMAGAMA_URL</span></code></a> to <code class="docutils literal"><span class="pre">''</span></code>.</p>
</div>
<div class="section" id="elasticsearch-based-tms">
<span id="translation-memory-elasticsearch-based-tms"></span><h3>Elasticsearch-based TMs<a class="headerlink" href="#elasticsearch-based-tms" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Pootle can also retrieve TM matches stored on Elasticsearch-based TM servers.
These TM servers require
<a class="reference external" href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a> to be
installed and running.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Elasticsearch depends on Java. Note that some systems may ship with
OpenJDK, however <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/1.6/setup-service.html#_installing_the_oracle_jdk">elasticsearch recommends using Oracle JDK</a>.</p>
</div>
<p>Install the required Python libraries:</p>
<pre class="literal-block">
(env) $ pip install --pre --process-dependency-links Pootle[es5]
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Elasticsearch TM should work with any version of Elasticsearch, our
tests run against Elasticsearch 5.x.  For support for Elasticsearch 1.x and
Elasticsearch 2.x, simply replace es5 with es1 and es2 respectively in the
above command.</p>
</div>
<p>Pootle supports two types of Elasticsearch-based TMs:</p>
<ul class="simple">
<li><strong>Local TM</strong>: (just one, named <code class="docutils literal"><span class="pre">local</span></code>) is populated using translations
stored in Pootle database and every new translation gets automatically
imported to it.</li>
<li><strong>External TMs</strong>: (several) are populated from translation files specifically
provided by the server admins, and are not automatically updated.</li>
</ul>
<p>Both local and external TM settings can be adjusted in
<a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TM_SERVER</span></code></a>. A configuration example for local and external TM
can be found in the default <code class="file docutils literal"><span class="pre">~/.pootle/pootle.conf</span></code>, and can be enabled by
uncommenting the example.</p>
<p>Please see the <a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER-WEIGHT"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TM_SERVER-WEIGHT</span></code></a> for a full example of the
configuration necessary to set up local/external TM.</p>
<p>Both Amagama and Elasticsearch based TMs can operate together.  Though you may
want to disable Amagama.</p>
<div class="section" id="elasticsearch-based-local-tm">
<span id="translation-memory-local-translation-memory"></span><h4>Elasticsearch-based local TM<a class="headerlink" href="#elasticsearch-based-local-tm" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>To use it, the <code class="docutils literal"><span class="pre">local</span></code> TM must be enabled in <a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TM_SERVER</span></code></a> and
will need to be populated using the <a class="reference internal" href="../server/commands.html#django-admin-update_tmserver"><code class="xref std std-djadmin docutils literal"><span class="pre">update_tmserver</span></code></a> command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_tmserver
</pre></div>
</div>
<p>Once populated Pootle will keep Local TM up-to-date.</p>
</div>
<div class="section" id="elasticsearch-based-external-tms">
<span id="translation-memory-external-translation-memories"></span><h4>Elasticsearch-based external TMs<a class="headerlink" href="#elasticsearch-based-external-tms" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.3.</span></p>
</div>
<p>In order to use them they must be enabled in <a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TM_SERVER</span></code></a> and
you will need to populate them using the <a class="reference internal" href="../server/commands.html#django-admin-update_tmserver"><code class="xref std std-djadmin docutils literal"><span class="pre">update_tmserver</span></code></a> command
specifying the TM to use with <a class="reference internal" href="../server/commands.html#cmdoption-update-tmserver-tm"><code class="xref std std-option docutils literal"><span class="pre">--tm</span></code></a> and the
display name with <a class="reference internal" href="../server/commands.html#cmdoption-update-tmserver-display-name"><code class="xref std std-option docutils literal"><span class="pre">--display-name</span></code></a>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_tmserver --tm<span class="o">=</span>external --display-name<span class="o">=</span>Pidgin af.po gl.tmx
</pre></div>
</div>
<p>A display name is a label used to group translations within a TM. A given TM
can host translations for several labels. Just specify them with
<a class="reference internal" href="../server/commands.html#cmdoption-update-tmserver-display-name"><code class="xref std std-option docutils literal"><span class="pre">--display-name</span></code></a>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_tmserver --tm<span class="o">=</span>external --display-name<span class="o">=</span>GNOME pt.tmx eu.po xh.po
</pre></div>
</div>
<p>It is possible to have several Elasticsearch-based external TM servers working
at once, along with the Elasticsearch-based local TM server. In order to do so
just add new entries to <a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TM_SERVER</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">POOTLE_TM_SERVER</span> <span class="o">=</span> <span class="p">{</span>

    <span class="o">...</span>

    <span class="s1">&#39;libreoffice&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;pootle.core.search.backends.ElasticSearchBackend&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="mi">9200</span><span class="p">,</span>
        <span class="s1">&#39;INDEX_NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;whatever&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WEIGHT&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="s1">&#39;MIN_SCORE&#39;</span><span class="p">:</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Make sure <a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER-INDEX_NAME"><code class="xref std std-setting docutils literal"><span class="pre">INDEX_NAME</span></code></a> is unique. You
might also want to tweak <a class="reference internal" href="../server/settings.html#std:setting-POOTLE_TM_SERVER-WEIGHT"><code class="xref std std-setting docutils literal"><span class="pre">WEIGHT</span></code></a> to change
the score of the TM results in relation to other TM servers (valid values are
between <code class="docutils literal"><span class="pre">0.0</span></code> and <code class="docutils literal"><span class="pre">1.0</span></code>).</p>
<p>To use these additional external TMs you will need to populate them using the
<a class="reference internal" href="../server/commands.html#django-admin-update_tmserver"><code class="xref std std-djadmin docutils literal"><span class="pre">update_tmserver</span></code></a> command specifying the TM server with <a class="reference internal" href="../server/commands.html#cmdoption-update-tmserver-tm"><code class="xref std std-option docutils literal"><span class="pre">--tm</span></code></a>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_tmserver --tm<span class="o">=</span>libreoffice --display-name<span class="o">=</span>LibreOffice af.po gl.tmx
</pre></div>
</div>
<p>Check <a class="reference internal" href="../server/commands.html#django-admin-update_tmserver"><code class="xref std std-djadmin docutils literal"><span class="pre">update_tmserver</span></code></a> for more options.</p>
<p>Note that Pootle will not push new translations to these TM servers unless you
explicitly use the <a class="reference internal" href="../server/commands.html#django-admin-update_tmserver"><code class="xref std std-djadmin docutils literal"><span class="pre">update_tmserver</span></code></a> command, giving you full control
of which translations make into them.</p>
</div>
</div>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2017.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>