
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to the new Pootle 2.7.1 final &#8212; Pootle 2.9.0b3 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.9.0b3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Welcome to the new Pootle 2.7.0 final" href="2.7.0.html" />
    <link rel="prev" title="Welcome to the new Pootle 2.7.2 final" href="2.7.2.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.9</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../server/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Welcome to the new Pootle 2.7.1 final</a><ul>
<li><a class="reference internal" href="#changes-in-requirements">Changes in Requirements</a></li>
<li><a class="reference internal" href="#major-changes">Major Changes</a></li>
<li><a class="reference internal" href="#details-of-changes">Details of changes</a><ul>
<li><a class="reference internal" href="#translation-statistics">Translation statistics</a></li>
<li><a class="reference internal" href="#django-transaction-hooks">Django transaction hooks</a></li>
<li><a class="reference internal" href="#changed-user-delete-behaviour">Changed user delete behaviour</a></li>
<li><a class="reference internal" href="#file-uploads">File uploads</a></li>
<li><a class="reference internal" href="#command-changes-and-additions">Command changes and additions</a></li>
<li><a class="reference internal" href="#editor">Editor</a></li>
<li><a class="reference internal" href="#misc-changes">Misc changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="2.7.2.html"
         title="previous chapter">&laquo; Welcome to the new Pootle 2.7.2 final</a></li>
  <li><a href="2.7.0.html"
         title="next chapter">Welcome to the new Pootle 2.7.0 final &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="welcome-to-the-new-pootle-2-7-1-final">
<h1>Welcome to the new Pootle 2.7.1 final<a class="headerlink" href="#welcome-to-the-new-pootle-2-7-1-final" title="Permalink to this headline">¶</a></h1>
<p><em>Released on 18 September 2015</em></p>
<p>Bugfix release for 2.7.0.</p>
<div class="section" id="changes-in-requirements">
<h2>Changes in Requirements<a class="headerlink" href="#changes-in-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Django &gt;= 1.7.10, &lt; 1.8</li>
<li>Translate Toolkit &gt;= 1.13.0</li>
<li>Python &gt;= 2.7, &lt; 3.0</li>
<li>Redis &gt;= 2.8.4</li>
<li>Django transaction hooks</li>
<li>Unix-based operating system.</li>
</ul>
</div>
<div class="section" id="major-changes">
<h2>Major Changes<a class="headerlink" href="#major-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated translations.</li>
<li>Added django-transaction-hooks</li>
<li>Changed user delete behaviour</li>
<li>Lots of command changes and additions</li>
<li>Improved upload</li>
</ul>
<p>Below we provide much more detail. These are by no means exhaustive, view the
<a class="reference external" href="https://github.com/translate/pootle/compare/stable/2.7.0...2.7.1">git log</a>
for complete information.</p>
</div>
<div class="section" id="details-of-changes">
<h2>Details of changes<a class="headerlink" href="#details-of-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="translation-statistics">
<h3>Translation statistics<a class="headerlink" href="#translation-statistics" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Last activity snippets for stats are not kept in the cache anymore. The markup
is now built on the client. This requires refreshing all server stats using
the <a class="reference internal" href="../server/commands.html#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a> command (<a class="reference external" href="https://github.com/translate/pootle/issues/3835">issue 3835</a>).</li>
<li>Renamed <code class="docutils literal"><span class="pre">refresh_stats_rq</span></code> command to <a class="reference internal" href="../server/commands.html#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a>. The
old <code class="docutils literal"><span class="pre">refresh_stats</span></code> command is now gone.</li>
<li>POT files are no longer included in the translations stats. This allows to
achieve a 100% translation status for a project if all the languages are
completely translated.</li>
<li>Fixed issue with empty directories preventing stats from being fully
calculated.</li>
<li>Public virtual folders with pending suggestions are now always displayed.</li>
</ul>
</div>
<div class="section" id="django-transaction-hooks">
<h3>Django transaction hooks<a class="headerlink" href="#django-transaction-hooks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>To ensure async jobs are scheduled at the correct time
<a class="reference external" href="https://pypi.python.org/pypi/django-transaction-hooks/">django-transaction-hooks</a> is now required.
This dependency will be unnecessary once Django 1.9 becomes Pootle’s minimum
requirement.</li>
<li>You must update your database connection to use one of the
django-transaction-hooks backends:<ul>
<li>mysql: transaction_hooks.backends.mysql</li>
<li>postgres: transaction_hooks.backends.postgresql_psycopg2</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="changed-user-delete-behaviour">
<h3>Changed user delete behaviour<a class="headerlink" href="#changed-user-delete-behaviour" title="Permalink to this headline">¶</a></h3>
<p>On deleting a user account their submissions, suggestions and reviews are now
re-assigned to the “nobody” user.</p>
<p>If you wish to remove the user’s contributions also, you can use the
<a class="reference internal" href="../server/commands.html#django-admin-purge_user"><code class="xref std std-djadmin docutils literal"><span class="pre">purge_user</span></code></a> command, or call <code class="docutils literal"><span class="pre">user.delete(purge=True)</span></code> to delete the
user programatically.</p>
</div>
<div class="section" id="file-uploads">
<h3>File uploads<a class="headerlink" href="#file-uploads" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The uploading user now receives the credit for the upload.</li>
<li>Handling of upload errors have been improved, displaying more useful messages
now.</li>
<li>In case of upload conflict the new translations are turned into suggestions.</li>
</ul>
</div>
<div class="section" id="command-changes-and-additions">
<h3>Command changes and additions<a class="headerlink" href="#command-changes-and-additions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added a <a class="reference internal" href="../server/commands.html#django-admin-contributors"><code class="xref std std-djadmin docutils literal"><span class="pre">contributors</span></code></a> command to get the list of contributors
(<a class="reference external" href="https://github.com/translate/pootle/issues/3867">issue 3867</a>).</li>
<li>Added a <a class="reference internal" href="../server/commands.html#django-admin-find_duplicate_emails"><code class="xref std std-djadmin docutils literal"><span class="pre">find_duplicate_emails</span></code></a> command to find duplicate emails.</li>
<li>Added a <a class="reference internal" href="../server/commands.html#django-admin-merge_user"><code class="xref std std-djadmin docutils literal"><span class="pre">merge_user</span></code></a> command to get merge submissions, comments and
reviews from one user account to another. This is useful for fixing users
that have multiple accounts and want them to be combined. No profile data
is merged. By default it removes the original user account after successful
merge.</li>
<li>Added a <a class="reference internal" href="../server/commands.html#django-admin-purge_user"><code class="xref std std-djadmin docutils literal"><span class="pre">purge_user</span></code></a> command to purge a user from the site and revert
any submissions, comments and reviews that they have made. This is useful to
revert spam or a malicious user.</li>
<li>Added a <a class="reference internal" href="../server/commands.html#django-admin-verify_user"><code class="xref std std-djadmin docutils literal"><span class="pre">verify_user</span></code></a> command to automatically verify a user account</li>
<li>Renamed <code class="docutils literal"><span class="pre">refresh_stats_rq</span></code> command to <a class="reference internal" href="../server/commands.html#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a>, replacing
the old command of the same name. <a class="reference internal" href="../server/commands.html#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a> is able to
calculate the stats for disabled projects (old <code class="docutils literal"><span class="pre">refresh_stats_rq</span></code> was
unable to do it).<ul>
<li>Errata: the removal of the old <a class="reference internal" href="../server/commands.html#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a> has removed the
following options:<ul>
<li><code class="docutils literal"><span class="pre">--calculate-checks</span></code> and <code class="docutils literal"><span class="pre">--check</span></code> – Use <a class="reference internal" href="../server/commands.html#django-admin-calculate_checks"><code class="xref std std-djadmin docutils literal"><span class="pre">calculate_checks</span></code></a>
instead.</li>
<li><code class="docutils literal"><span class="pre">--calculate-wordcount</span></code></li>
</ul>
</li>
</ul>
</li>
<li>Added a <a class="reference internal" href="../server/commands.html#django-admin-update_user_email"><code class="xref std std-djadmin docutils literal"><span class="pre">update_user_email</span></code></a> command to update a user’s email
address.</li>
<li>Added a <a class="reference internal" href="../server/commands.html#cmdoption-no-rq"><code class="xref std std-option docutils literal"><span class="pre">--no-rq</span></code></a> option to run commands in a single process without
using RQ workers.</li>
<li>Now it is possible specify the parameters to set up your database directly
through <a class="reference internal" href="../server/commands.html#django-admin-init"><code class="xref std std-djadmin docutils literal"><span class="pre">init</span> <span class="pre">command</span></code></a>.</li>
</ul>
</div>
<div class="section" id="editor">
<h3>Editor<a class="headerlink" href="#editor" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Editor now request confirmation before navigating away from modified units in
order to prevent data loss. This also includes non-saved comments. Going to
the previous, next, and a specific unit will trigger the prompt, as well as
changing filters or searching. It is also triggered by typing a different
URL, reloading the page or closing the browser window.</li>
<li>Fixed issue that didn’t allow users with only just suggestion rights to send
suggestions.</li>
<li>Suggestion related events are now displayed on the timeline.</li>
<li>Critical and not critical failing checks are now displayed separately in the
editor.</li>
<li>Potential errors when managing the suggestions are now displayed to users.</li>
<li>Fixed a regression that prevented users from rejecting their own suggestions
even if they don’t have enough permissions to reject suggestions.</li>
</ul>
</div>
<div class="section" id="misc-changes">
<h3>Misc changes<a class="headerlink" href="#misc-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Disabled projects are visually differentiated in the projects drop-down
(<a class="reference external" href="https://github.com/translate/pootle/issues/3996">issue 3996</a>).
Since the in-cache data structure supporting this changed, it’s necessary to
clear the cache. Assuming your <code class="docutils literal"><span class="pre">default</span></code> cache lives in the DB number <code class="docutils literal"><span class="pre">1</span></code>,
you can clear it as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> redis-cli -n <span class="m">1</span> KEYS <span class="s2">&quot;*method-cache:Project:cached_dict:*&quot;</span> <span class="p">|</span> xargs redis-cli -n <span class="m">1</span> DEL
</pre></div>
</div>
</li>
<li><p class="first">Admins can now always see and navigate disabled projects.</p>
</li>
<li><p class="first">Pulled latest translations.</p>
</li>
<li><p class="first">Scores now include suggestions.</p>
</li>
<li><p class="first">A link is now displayed on the sidebar so admin users can quickly edit the
announcements.</p>
</li>
<li><p class="first">Now previously hidden errors during login and sign up are displayed to the
user.</p>
</li>
<li><p class="first">Improved usage of system checks so sysadmins get better feedback on whether
something is wrong with Pootle.</p>
</li>
</ul>
<p>…and lots of refactoring, new tests, cleanups, improved documentation and of
course, loads of bugs were fixed.</p>
</div>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>This release was made possible by the following people:</p>
<p>Julen Ruiz Aizpuru, Ryan Northey, Taras Semenenko, Leandro Regueiro, Dwayne
Bailey, Jerome Leclanche, Kevin Scannell, Daniel Widerin.</p>
<p>And to all our bug finders, testers and translators, a Very BIG Thank You.</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2017.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>