
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Windows Development Environment Setup &#8212; Pootle 2.9.0b3 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.9.0b3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Front-end Development" href="frontend.html" />
    <link rel="prev" title="Linux Development Environment Setup" href="setup_linux.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.9</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../server/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Administering a server</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Windows Development Environment Setup</a><ul>
<li><a class="reference internal" href="#install-prerequisites">Install prerequisites</a></li>
<li><a class="reference internal" href="#detailed-setup">Detailed setup</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="setup_linux.html"
         title="previous chapter">&laquo; Linux Development Environment Setup</a></li>
  <li><a href="frontend.html"
         title="next chapter">Front-end Development &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="windows-development-environment-setup">
<span id="setup-windows"></span><h1>Windows Development Environment Setup<a class="headerlink" href="#windows-development-environment-setup" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ensure that you are executing all of the following steps with
Administrator privileges!</p>
</div>
<div class="section" id="install-prerequisites">
<h2>Install prerequisites<a class="headerlink" href="#install-prerequisites" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Download the latest Redis installer from:</dt>
<dd><a class="reference external" href="https://github.com/MSOpenTech/redis/releases">https://github.com/MSOpenTech/redis/releases</a></dd>
</dl>
<p>During the installation you will be asked to set what port Redis should listen
on; leave it at the default (6379).</p>
<dl class="docutils">
<dt>Download the latest Nodejs installer from:</dt>
<dd><a class="reference external" href="https://nodejs.org/en/">https://nodejs.org/en/</a></dd>
</dl>
</div>
<div class="section" id="detailed-setup">
<h2>Detailed setup<a class="headerlink" href="#detailed-setup" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For convenience these instructions consistently specify paths
<code class="docutils literal"><span class="pre">C:\pootle_venv</span></code>, <code class="docutils literal"><span class="pre">C:\git\pootle</span></code> and <code class="docutils literal"><span class="pre">C:\temp</span></code>, but you can change
these to suit your environment and needs.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Depending on how correctly your environment is set up (depending on
factors beyond your control such as virus scanners, Windows system health,
and so on), you may need to use the command <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span></code> for the
following steps if the basic <code class="docutils literal"><span class="pre">pip</span></code> commands fail. Similarly, any other
Python command that should ‘just work’ might need to be invoked with
<code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span></code> to avoid issues.</p>
</div>
<p>For installing the dependencies in an isolated environment, set up a fresh
virtualenv.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">&gt;</span> pip install virtualenv
<span class="gp">&gt;</span> virtualenv C:<span class="se">\p</span>ootle_venv
</pre></div>
</div>
<p>Activate the new virtualenv and upgrade pip:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">&gt;</span> C:<span class="se">\p</span>ootle_venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
<span class="go">(pootle_venv)&gt; pip install --upgrade pip setuptools</span>
</pre></div>
</div>
<p>Clone your fork of the Pootle master using your favourite Windows
implementation of Git so that you have a working copy somewhere accessible on
your computer (e.g. <code class="docutils literal"><span class="pre">C:\git\pootle</span></code>).</p>
<p>Then go to the Pootle <code class="docutils literal"><span class="pre">requirements\base.txt</span></code> and comment out the following
packages:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> lxml
<span class="gp">#</span> python-levenshtein
<span class="gp">#</span> scandir
</pre></div>
</div>
<p>These three packages are difficult to build on Windows, so we will download
pre-built versions to install manually, saving them into your temporary folder:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml">http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml</a></li>
<li><a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein">http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein</a></li>
<li><a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#scandir">http://www.lfd.uci.edu/~gohlke/pythonlibs/#scandir</a></li>
</ul>
<p>Now install them explicitly:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pip install C:\temp\lxml-3.6.4-cp27-cp27m-win32.whl</span>
<span class="go">(pootle_venv)&gt; pip install C:\temp\python_Levenshtein-0.12.0-cp27-none-win32.whl</span>
<span class="go">(pootle_venv)&gt; pip install C:\temp\scandir-1.2-cp27-none-win32.whl</span>
</pre></div>
</div>
<p>At this point, you may be able to install Pootle and its requirements using the
following command. However, pip installation of requirements may fail with
“directory was not empty” or “file not found” issues, in which case you need to
use the commands in the next note block.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; cd C:\git\pootle</span>
<span class="go">(pootle_venv)&gt; pip install -e .[dev]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>“Directory was not empty” and “file not found” issues come from
modern versions of Windows’ tighter control over permissions for special
folders. By default, pip stores temporary files in your <code class="docutils literal"><span class="pre">user\AppData</span></code>
folder which may not allow access in all circumstances. By downloading the
packages to a folder with no special permissions and building and installing
them from there we can circumvent these problems:</p>
<div class="last highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pip download -d C:\temp -r requirements\dev.txt -b C:\temp</span>
<span class="go">(pootle_venv)&gt; pip install -r requirements\dev.txt -b C:\temp -t C:\pootle_venv\Lib\site-packages\ --no-index --find-links=&quot;C:\temp&quot;</span>
<span class="go">(pootle_venv)&gt; cd C:\git\pootle</span>
<span class="go">(pootle_venv)&gt; pip install -e .</span>
</pre></div>
</div>
</div>
<p>Now that all the requirements are lined up, we are ready to initialise Pootle.
You should be able to initialise the Pootle demo database the same way as on a
Linux system.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Depending on how successfully your system has engaged the virtual
environment, you may have to execute <code class="docutils literal"><span class="pre">pootle</span></code> commands with <code class="docutils literal"><span class="pre">python</span>
<span class="pre">pootle/runner.py</span></code> from the pootle root folder instead (e.g. <code class="docutils literal"><span class="pre">python</span>
<span class="pre">pootle/runner.py</span> <span class="pre">migrate</span></code> instead of <code class="docutils literal"><span class="pre">pootle</span> <span class="pre">migrate</span></code>).</p>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pootle init --dev</span>
<span class="go">(pootle_venv)&gt; pootle migrate</span>
<span class="go">(pootle_venv)&gt; pootle initdb</span>
</pre></div>
</div>
<p>Next, you will need to set up the client-side bundles with NPM. It might be
necessary to deactivate the virtual environment or use a separate command
window to perform this step, but it might also ‘just work’ from within the
venv.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">C:\git\pootle&gt; cd pootle\static\js</span>
<span class="go">C:\git\pootle\pootle\static\js&gt; npm install</span>
</pre></div>
</div>
<p>Once NPM install has completed, the actual javascript bundles can be compiled:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; cd C:\git\pootle</span>
<span class="go">(pootle_venv)&gt; pootle webpack --dev</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../server/commands.html#django-admin-webpack"><code class="xref std std-djadmin docutils literal"><span class="pre">webpack</span></code></a> command will keep running after it’s completed, to
monitor your javascript files for changes so that it can auto-recompile as you
work. You’ll need to either exit it with <code class="docutils literal"><span class="pre">Ctrl+C</span></code> once it has settled down,
or else open up a new command prompt and activate your virtual environment
there too.</p>
<p>One last javascript pack needs to be compiled to complete the client-side
preparations:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pootle compilejsi18n</span>
</pre></div>
</div>
<p>Now create and verify a super-user as normal:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pootle createsuperuser</span>
<span class="go">[Follow on-screen prompts.]</span>
<span class="go">(pootle_venv)&gt; pootle verify_user [username]</span>
</pre></div>
</div>
<p>Pootle is now ready to be fired up!</p>
<p>You will need to run one RQWorker and one Pootle server, so you’ll need two
command prompt windows (as both will remain active until you disable the
server):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pootle rqworker</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">(pootle_venv)&gt; pootle runserver</span>
</pre></div>
</div>
<p>Congratulations, Pootle should now be running comfortably! Happy hacking on
Windows!!</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2017.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>