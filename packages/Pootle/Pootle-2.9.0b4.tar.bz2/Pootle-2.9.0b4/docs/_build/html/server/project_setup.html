
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Create a Project &#8212; Pootle 2.9.0b4 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.9.0b4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installation with MySQL" href="mysql_installation.html" />
    <link rel="prev" title="Pootle requirements" href="requirements.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.9</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Create a Project</a><ul>
<li><a class="reference internal" href="#our-assumptions">Our assumptions</a></li>
<li><a class="reference internal" href="#adding-a-new-project">Adding a new project</a><ul>
<li><a class="reference internal" href="#placing-translation-files">Placing translation files</a></li>
<li><a class="reference internal" href="#creating-the-project">Creating the project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enable-translation-to-a-new-language">Enable translation to a new language</a></li>
<li><a class="reference internal" href="#updating-strings-for-existing-project">Updating strings for existing project</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="requirements.html"
         title="previous chapter">&laquo; Pootle requirements</a></li>
  <li><a href="mysql_installation.html"
         title="next chapter">Installation with MySQL &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="create-a-project">
<span id="project-setup"></span><h1>Create a Project<a class="headerlink" href="#create-a-project" title="Permalink to this headline">¶</a></h1>
<p>Now that you have the server running, you can setup a project to translate on
the server.</p>
<div class="section" id="our-assumptions">
<h2>Our assumptions<a class="headerlink" href="#our-assumptions" title="Permalink to this headline">¶</a></h2>
<p>To simplify the example we assume that:</p>
<ul class="simple">
<li>The project uses PO files.</li>
<li>You can copy these files to the Pootle server.</li>
<li>There is a template file in POT format containing the strings that need to be
translated.</li>
<li>The project follows the GNU layout (More information on this is provided
below).</li>
<li>Pootle is correctly set up and running.</li>
<li>There is at least one <strong>rqworker</strong> thread running. This is important.</li>
<li>You are logged into the Pootle server using your newly created administrator
user.</li>
</ul>
</div>
<div class="section" id="adding-a-new-project">
<span id="project-setup-add-new-project"></span><h2>Adding a new project<a class="headerlink" href="#adding-a-new-project" title="Permalink to this headline">¶</a></h2>
<div class="section" id="placing-translation-files">
<span id="project-setup-placing-translation-files"></span><h3>Placing translation files<a class="headerlink" href="#placing-translation-files" title="Permalink to this headline">¶</a></h3>
<p>You need to place the translation files for your new project in a location
where Pootle can find, read and write them. Pootle uses the
<a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a> setting to find out where translation
files are stored on the server.</p>
<p>Our example project uses a GNU layout.</p>
<p>A GNU layout means that our project contains translation files named using
language codes. Within the project there are no directories, just files. There
can only be a single translation file per language in a project using this
layout.</p>
<p>This is the simplest layout possible and the reason we are using it in our
example.</p>
<p>Below you can see an example with two projects using the GNU layout:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>`-- translations
    `-- project1
    |   |-- de.po
    |   |-- fr.po
    |   |-- gl.po
    |   |-- pt_BR.po
    |   `-- templates.pot
    `-- project2
        |-- af.po
        |-- eu.po
        |-- pt_BR.po
        |-- templates.pot
        `-- zu.po
</pre></div>
</div>
<p>Among the regular translation files there are two files named
<code class="file docutils literal"><span class="pre">templates.pot</span></code>. These are the template (master or reference) files that
contain the original strings. Usually these files contain only English strings,
however it is much less confusing to use the term <code class="docutils literal"><span class="pre">templates</span></code> than e.g.
<code class="docutils literal"><span class="pre">en</span></code> or <code class="docutils literal"><span class="pre">English</span></code>.</p>
<p>To get started, create a <code class="file docutils literal"><span class="pre">my-project</span></code> directory in the location pointed
to by <a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a> and place within it the
translation files for your new project. Make sure you have a
<code class="file docutils literal"><span class="pre">templates.pot</span></code> among those project translation files.</p>
</div>
<div class="section" id="creating-the-project">
<span id="project-setup-creating-the-project"></span><h3>Creating the project<a class="headerlink" href="#creating-the-project" title="Permalink to this headline">¶</a></h3>
<p>At the top of the user interface, you will see your newly created administrator
username. Click on it and the main top menu will be displayed, then click on
<strong>Admin</strong> (highlighted in red):</p>
<img alt="../_images/accessing_admin_interface.png" src="../_images/accessing_admin_interface.png" />
<p>Now you are in the administration interface. Go to the <strong>Projects</strong> tab and you
will see a <strong>New Project</strong> button:</p>
<img alt="../_images/add_project_button.png" src="../_images/add_project_button.png" />
<p>Click on that button and the <strong>Add Project</strong> form will be displayed. Enter the
new project’s details. <strong>Code</strong> must match the name of the directory within
<a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a> that contains the project translation
files, in our example <code class="file docutils literal"><span class="pre">my-project</span></code>. Also you must specify the
<strong>File Types</strong> used in this new project, in our example
<code class="docutils literal"><span class="pre">Gettext</span> <span class="pre">PO</span> <span class="pre">(po/pot)</span></code>.</p>
<p>You can also provide a <strong>Full Name</strong> easily readable for humans. You don’t need
to change the rest of the fields unless you need to further customize your
project.</p>
<img alt="../_images/add_project_form.png" src="../_images/add_project_form.png" />
<p>Once you are done click on the <strong>Save</strong> button below the form to create the
project.</p>
<p>Please not that <strong>just creating the project is not enough</strong>, now it is
necessary to set the the filesystem configuration. So now click on the
<code class="docutils literal"><span class="pre">Filesystems</span></code> link below the project edit form and set the following:</p>
<img alt="../_images/pootle_fs_link1.png" src="../_images/pootle_fs_link1.png" />
<ul class="simple">
<li><strong>Filesystem backend</strong> to <code class="docutils literal"><span class="pre">localfs</span></code></li>
<li><strong>Backend URL or path</strong> to the value of
<a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a> + project code, e.g.
<code class="file docutils literal"><span class="pre">/path/to/pootle/translations/my-project</span></code> in our example</li>
<li><strong>Translation mapping presets</strong> to <code class="docutils literal"><span class="pre">GNU-style</span></code></li>
</ul>
<p>And then click on the <strong>Update filesystem configuration</strong> button to save the
Pootle FS configuration for the project.</p>
<p>Creating the project doesn’t actually import all the translations to
Pootle. To do that you need to run <a class="reference internal" href="commands.html#django-admin-update_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">update_stores</span></code></a> on the command line
of the Pootle server:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_stores --project<span class="o">=</span>my-project
</pre></div>
</div>
<p>This will import all the translations from disk into Pootle, calculate the
translation statistics and calculate the quality check failures. This might
take a while for a large project.</p>
<p>Looking at your new project you will see that Pootle has imported all the
existing translations for the existing languages that you copied to the
<code class="file docutils literal"><span class="pre">my-project</span></code> directory within <a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a>.</p>
</div>
</div>
<div class="section" id="enable-translation-to-a-new-language">
<span id="project-setup-initialize-new-tp"></span><h2>Enable translation to a new language<a class="headerlink" href="#enable-translation-to-a-new-language" title="Permalink to this headline">¶</a></h2>
<p>When you want to add a new language to the project, follow these steps.</p>
<p>Go to your project overview and select <strong>Languages</strong> in the navigation
dropdown:</p>
<img alt="../_images/languages_in_project_dropdown.png" src="../_images/languages_in_project_dropdown.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Alternatively you can get the same result by clicking on the
<strong>Languages</strong> link that is displayed below your project form in the
administration interface:</p>
<img alt="../_images/project_form_bottom_links.png" class="last" src="../_images/project_form_bottom_links.png" />
</div>
<p>The existing languages enabled for the project are listed. In our example we
are adding <strong>Arabic</strong> to the project:</p>
<img alt="../_images/enable_new_tp_through_admin_UI.png" src="../_images/enable_new_tp_through_admin_UI.png" />
<p>When you click the <strong>Save</strong> button the new language will be added for
translation. In large projects it may take some time to create the new
translation files from the <code class="docutils literal"><span class="pre">templates</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you want to enable translation to a language that doesn’t yet
exist in your Pootle instance, then you will first have to add the language
in the <strong>Languages</strong> tab in the administration interface, in a similar way
to <a class="reference internal" href="#project-setup-creating-the-project"><span class="std std-ref">creating a new project</span></a>.</p>
<p class="last">Once the language is created you can enable translation to that new language
in any project by following the instructions above.</p>
</div>
</div>
<div class="section" id="updating-strings-for-existing-project">
<span id="project-setup-updating-strings"></span><h2>Updating strings for existing project<a class="headerlink" href="#updating-strings-for-existing-project" title="Permalink to this headline">¶</a></h2>
<p>Whenever developers introduce new strings, deprecate older ones, or change some
of them this impacts Pootle and the languages being translated.</p>
<p>When any of these changes occur, you will need to generate a new
<code class="file docutils literal"><span class="pre">templates.pot</span></code> and use it to bring the translations in Pootle up-to-date
with the new templates.</p>
<p>Once you have created the new <code class="file docutils literal"><span class="pre">templates.pot</span></code> place it within your
project’s directory in <a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a>, replacing the
file with the same name. After that, invoke the following command which will
update the template translations in the Pootle database.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_stores --project<span class="o">=</span>my-project --language<span class="o">=</span>templates
</pre></div>
</div>
<p>This command will ensure that new strings are added to the project and any
strings which have been removed are marked as deprecated, and thus will not be
available for translation.</p>
<p>Now each of the languages will need to be brought into sync with the template
language. The first step is to save all the Pootle translations to disk:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle sync_stores --project<span class="o">=</span>my-project
</pre></div>
</div>
<p>Then update all those translations on disk against the newer templates. We
recommend you to update them on disk using the <a class="reference external" href="http://docs.translatehouse.org/projects/translate-toolkit/en/latest/commands/pot2po.html#pot2po" title="(in Translate Toolkit v2.2.5)"><span class="xref std std-ref">pot2po</span></a>
command line tool because it can handle other formats besides Gettext PO.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> <span class="nb">cd</span> <span class="nv">$POOTLE_TRANSLATION_DIRECTORY</span>  <span class="c1"># Use the actual path!</span>
<span class="gp">(env) $</span> <span class="nb">cd</span> my-project
<span class="gp">(env) $</span> pot2po -t af.po templates.pot af.po  <span class="c1"># Repeat for each language by changing the language code.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To preserve the existing translations we pass the previous
translation file to the <code class="docutils literal"><span class="pre">-t</span></code> option.</p>
</div>
<p>When all the languages in the project have been updated you can push them back
to Pootle:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">(env) $</span> pootle update_stores --project<span class="o">=</span>my-project
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your project languages contain many translations you might want to
perform the update against newer templates on a language by language basis.</p>
</div>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2017.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>