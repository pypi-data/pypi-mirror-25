webpackJsonp([1],{66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),i=r(u),s=n(7),l=r(s),c=n(29),f=r(c),p=n(48),h=n(243),d=r(h),g=function(){function e(t){var n=this;a(this,e),this.method="GET",(0,l.default)(this,t),this.pairs=t.supportedLanguages.map(function(e){return[e,e]}),(0,i.default)(document).on("click",".js-"+t.name,function(e){var t=e.currentTarget.dataset.sourceLang;n.translate(n.unit.sources[t][0],t,n.unit.store.target_lang).then(function(e){return PTL.editor.setTranslation(e)})})}return o(e,[{key:"init",value:function(e){this.unit=e.unit,this.injectUI(e)}},{key:"isSupportedSource",value:function(e){return this.pairs.filter(function(t){return t[0]===e}).length>0}},{key:"isSupportedTarget",value:function(e){return this.pairs.filter(function(t){return t[1]===e}).length>0}},{key:"translate",value:function(e,t,n){var r=this,a=new d.default,o={sourceLanguage:t,targetLanguage:n,text:a.replace(e)};return(0,f.default)({crossDomain:!0,method:this.method,url:this.url,body:this.getRequestBody(o)}).then(function(e){return r.handleSuccess(e)}).then(function(e){if(!("translation"in e))return e;var t=(0,l.default)({},e);return t.translation=a.recover(e.translation),t})}},{key:"handleSuccess",value:function(){throw new Error("Not Implemented")}},{key:"injectUI",value:function(e){var t=this,n=e.unit,r=(0,p.normalizeCode)(n.store.target_lang);this.isSupportedTarget(r)&&Object.keys(n.sources).forEach(function(e){var n=(0,p.normalizeCode)(e);t.isSupportedSource(n)&&(0,i.default)(".js-mt-"+n).append(t.renderIcon(n,r))})}},{key:"renderIcon",value:function(e,t){var n=this.displayName+" ("+e.toUpperCase()+" &rarr; "+(t.toUpperCase()+")");return'<a class="translate-mt js-'+this.name+'" data-source-lang="'+e+'">'+('<i class="icon-'+this.name+'" title="'+n+'">')+"</a>"}}]),e}();t.default=g},126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(66),l=r(s),c=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{apiKey:e,method:"POST",name:"caighdean-translate",displayName:"Caighdeán Translate",url:"https://borel.slu.edu/cgi-bin/seirbhis3.cgi",supportedLanguages:["gd","gv","ga","ga_IE","ga-IE"]}))}return u(t,e),i(t,[{key:"getRequestBody",value:function(e){return{teacs:e.text,foinse:e.sourceLanguage}}},{key:"handleSuccess",value:function(e){for(var t=/^([.,\/;”:!?%})]|<[^>]+>)$/,n="",r=0;r<e.length;r++){var a=e[r][1];a.match(t)||""===n||(a=" "+a),n+=a}return{translation:n.trim()}}}]),t}(l.default);t.default=c},127:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(66),l=r(s),c=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{apiKey:e,name:"google-translate",displayName:"Google Translate",url:"https://www.googleapis.com/language/translate/v2",supportedLanguages:["af","sq","ar","az","eu","bn","be","bg","ca","zh-CN","zh-TW","hr","cs","da","nl","en","eo","et","tl","fi","fr","gl","ka","de","el","gu","ht","iw","hi","hu","is","id","ga","it","ja","kn","ko","la","lv","lt","mk","ms","mt","no","fa","pl","pt","ro","ru","sr","sk","sl","es","sw","sv","ta","te","th","tr","uk","ur","vi","cy","yi"]}))}return u(t,e),i(t,[{key:"getRequestBody",value:function(e){return{key:this.apiKey,q:e.text,source:e.sourceLanguage,target:e.targetLanguage}}},{key:"handleSuccess",value:function(e){return e.data||e.error?e.error?{msg:"Google Translate Error: "+e.error.message}:{translation:e.data.translations[0].translatedText}:{msg:"Malformed response from Google Translate API"}}}]),t}(l.default);t.default=c},128:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(66),l=r(s),c=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{apiKey:e,name:"welsh-translate",displayName:"Welsh Translate",url:"https://api.techiaith.org/translate/v1/translate",supportedLanguages:["en","cy"]}))}return u(t,e),i(t,[{key:"getRequestBody",value:function(e){return{api_key:this.apiKey,q:e.text,source:e.sourceLanguage,target:e.targetLanguage,engine:"Meddalwedd"}}},{key:"handleSuccess",value:function(e){return{translation:e.translations[0].translatedText}}}]),t}(l.default);t.default=c},129:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(66),l=r(s),c=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{apiKey:e,name:"yandex-translate",displayName:"Yandex.Translate",url:"https://translate.yandex.net/api/v1.5/tr.json/translate",supportedLanguages:["af","ar","az","ba","be","bg","bs","ca","cs","cy","da","de","el","en","es","et","eu","fa","fi","fr","ga","gl","he","hr","ht","hu","hy","id","is","it","ja","ka","kk","ko","ky","la","lt","lv","mg","mk","mn","ms","mt","nl","no","pl","pt","ro","ru","sk","sl","sq","sr","sv","sw","tg","th","tl","tr","tt","uk","uz","vi","zh"]}))}return u(t,e),i(t,[{key:"getRequestBody",value:function(e){return{key:this.apiKey,text:e.text,lang:e.sourceLanguage+"-"+e.targetLanguage}}},{key:"handleSuccess",value:function(e){return{translation:e.text[0]}}}]),t}(l.default);t.default=c},180:function(e,t,n){function r(e){return n(a(e))}function a(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./CaighdeanTranslate":126,"./CaighdeanTranslate.js":126,"./GoogleTranslate":127,"./GoogleTranslate.js":127,"./WelshTranslate":128,"./WelshTranslate.js":128,"./YandexTranslate":129,"./YandexTranslate.js":129};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=180},243:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=/<[\/]?\w+.*?>/g,o=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,u=/{\d+(,\d+)?(:[a-zA-Z ]+)?}/g,i=/%\d+/g,s=function(){function e(){n(this,e),this.resetState()}return r(e,[{key:"resetState",value:function(){this.argSubs=[],this.argPos=0,this.replacedSourceText=null}},{key:"collectArguments",value:function(e){return this.argSubs[this.argPos]=e,"["+this.argPos++ +"]"}},{key:"replace",value:function(e){var t=this;return this.replacedSourceText=e.replace(a,function(e){return t.collectArguments(e)}).replace(o,function(e){return t.collectArguments(e)}).replace(u,function(e){return t.collectArguments(e)}).replace(i,function(e){return t.collectArguments(e)}),this.replacedSourceText}},{key:"recover",value:function(e){var t=this.argSubs,n=this.replacedSourceText;if(null===n)throw new Error("Attempted to recover without calling `replace()` first");for(var r=e,a=0;a<t.length;a++)n.match(new RegExp("\\["+a+"\\][^\\s]"))&&(r=r.replace(new RegExp("\\["+a+"\\]\\s+"),"["+a+"]")),n.match(new RegExp("[^\\s]\\["+a+"\\]"))&&(r=r.replace(new RegExp("\\s+\\["+a+"\\]"),"["+a+"]"));for(var o=0;o<t.length;o++){var u=t[o].replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;");r=r.replace("["+o+"]",u)}return this.resetState(),r}}]),e}();t.default=s}});