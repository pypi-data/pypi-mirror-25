
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Contributing &#8212; fedmsg 1.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Developer Interface" href="api.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<p>If you’re submitting patches to fedmsg, please observe the following:</p>
<ul class="simple">
<li>Check that your code doesn’t break the test suite and is <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP8-compliant</a> by running <code class="docutils literal"><span class="pre">tox</span></code> in the root
of the repository.</li>
<li>If you are adding new code, please write tests for them in <code class="docutils literal"><span class="pre">fedmsg/tests</span></code>.</li>
<li>If your change warrants a modification to the docs in <code class="docutils literal"><span class="pre">doc/</span></code> or any
docstrings in <code class="docutils literal"><span class="pre">fedmsg/</span></code> please make that modification.</li>
</ul>
<div class="section" id="i-didn-t-sign-up-for-this">
<h2>I didn’t sign up for this!<a class="headerlink" href="#i-didn-t-sign-up-for-this" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>...all I wanted to do was submit a patch!
</pre></div>
</div>
<p>Don’t worry.  If you have a contribution but the above guidelines are too
much to handle, just stop by <code class="docutils literal"><span class="pre">#fedora-apps</span></code> on freenode and let us know.</p>
</div>
<div class="section" id="using-a-virtualenv">
<h2>Using a virtualenv<a class="headerlink" href="#using-a-virtualenv" title="Permalink to this headline">¶</a></h2>
<p>Although you don’t strictly <em>have</em> to, you should use
<a class="reference external" href="https://virtualenvwrapper.readthedocs.org/">virtualenvwrapper</a> for isolating
your development environment.  It is to your benefit because you’ll be able to
install the latest fedmsg from a git checkout without messing with your system
fedmsg install (if you have one).  The instructions here will assume you are
using that.</p>
<p>You can install it with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo dnf install python-virtualenvwrapper
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you decide not to use python-virtualenvwrapper, you can always use
latest update of fedmsg in fedora.  If you are doing this, simply ignore all
<code class="docutils literal"><span class="pre">mkvirtualenv</span></code> and <code class="docutils literal"><span class="pre">workon</span></code> commands in these instructions.  You can
install fedmsg with <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">fedmsg</span></code>.</p>
</div>
</div>
<div class="section" id="development-dependencies">
<h2>Development Dependencies<a class="headerlink" href="#development-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Get:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo dnf install python-virtualenv libffi-devel openssl-devel \
  zeromq-devel gcc
</pre></div>
</div>
</div>
<div class="section" id="cloning-the-upstream-git-repo">
<h2>Cloning the Upstream Git Repo<a class="headerlink" href="#cloning-the-upstream-git-repo" title="Permalink to this headline">¶</a></h2>
<p>The source code is on github.  For read-only access, simply:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git clone git://github.com/fedora-infra/fedmsg.git
</pre></div>
</div>
<p>Of course, you may want to do the usual <a class="reference external" href="https://help.github.com/articles/fork-a-repo">fork and then clone</a> pattern if you intend to
submit patches/pull-requests (please do!).</p>
</div>
<div class="section" id="setting-up-your-virtualenv">
<h2>Setting up your virtualenv<a class="headerlink" href="#setting-up-your-virtualenv" title="Permalink to this headline">¶</a></h2>
<p>Create a new, empty virtualenv and install all the dependencies from <a class="reference external" href="http://pypi.python.org">pypi</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ cd fedmsg
$ mkvirtualenv fedmsg
(fedmsg)$ pip install -e .[all]
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the mkvirtualenv command is unavailable try
<code class="docutils literal"><span class="pre">source</span> <span class="pre">/usr/bin/virtualenvwrapper.sh</span></code> on Fedora (if you do not run Fedora
you might have to adjust the command a little).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As discussed in the FAQ, M2Crypto requires the swig command to be
available in order to build successfully.  It’s recommended that you
install M2Crypto using your system package manager, which can be done with
<code class="docutils literal"><span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">m2crypto</span> <span class="pre">swig</span></code> on Fedora.</p>
</div>
<p>You should also run the tests, just to make sure everything is sane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>(fedmsg)$ python setup.py test
</pre></div>
</div>
</div>
<div class="section" id="try-out-the-shell-commands">
<h2>Try out the shell commands<a class="headerlink" href="#try-out-the-shell-commands" title="Permalink to this headline">¶</a></h2>
<p>Having set up your environment in the <cite>Hacking</cite> section above, open up three
terminals.  In each of them, activate your virtualenv with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ workon fedmsg
</pre></div>
</div>
<p>and in one, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>(fedmsg)$ fedmsg-relay
</pre></div>
</div>
<p>In the second, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>(fedmsg)$ fedmsg-tail --really-pretty
</pre></div>
</div>
<p>In the third, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>(fedmsg)$ echo &quot;Hello, world&quot; | fedmsg-logger
</pre></div>
</div>
<p>And you should see the message appear in the <code class="docutils literal"><span class="pre">fedmsg-tail</span></code> term.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>There is a folder in the root of the upstream git checkout named <code class="docutils literal"><span class="pre">fedmsg.d/</span></code>.
<a class="reference internal" href="api.html#module-fedmsg.config" title="fedmsg.config"><code class="xref py py-mod docutils literal"><span class="pre">fedmsg.config</span></code></a> will try to read this whenever the fedmsg API is
invoked.  If you’re starting a new project like a consumer or a webapp that is
sending fedmsg messages, you’ll need to copy the <code class="docutils literal"><span class="pre">fedmsg.d/</span></code> directory to the
root directory of that project.  In <a class="reference internal" href="deployment.html"><span class="doc">Deploying fedmsg</span></a>, that folder is kept in
<code class="docutils literal"><span class="pre">/etc/fedmsg.d/</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Watch out:  if you have a <code class="docutils literal"><span class="pre">/etc/fedmsg.d/</span></code> folder and a local
<code class="docutils literal"><span class="pre">./fedmsg.d/</span></code>, fedmsg will read both.  Global first, and then local.
Local values will overwrite system-wide ones.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The tutorial on <a class="reference external" href="http://threebean.org/blog/fedmsg-tutorial-consuming-fas-stg">consuming FAS messages from stg</a> might be of
further help.  It was created before these instructions were written.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/fedmsg.png" alt="Logo"/>
    
    <h1 class="logo logo-name">fedmsg</h1>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=fedora-infra&repo=fedmsg&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="publishing.html">Publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="subscribing.html">Subscribing</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deploying fedmsg</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">Developer Interface</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#i-didn-t-sign-up-for-this">I didn’t sign up for this!</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-a-virtualenv">Using a virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#development-dependencies">Development Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cloning-the-upstream-git-repo">Cloning the Upstream Git Repo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-your-virtualenv">Setting up your virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#try-out-the-shell-commands">Try out the shell commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="api.html" title="previous chapter">Developer Interface</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2012 - 2017, Red Hat. Inc, and others.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/contributing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>