<!DOCTYPE html>
<html lang="en" ng-app="rsm">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracker controlling application</title>
    <link rel="icon" href="img/favicon.ico" />

    <!-- Angular -->
    <script src="js/app.min-7fac2f60.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/app.min-703ec38b.css"/>
  </head>

  <body ng-controller="MainCtrl" data-ng-init="updateCollection()">

    <div id="alerts-container"></div>

    <table st-table="displayedCollection" st-safe-src="internalCollection" class="table table-striped">
      <thead>
        <tr>
          <th>
            <button type="button" ng-click="selectedDelete()" class="btn btn-sm btn-danger">
              <i class="glyphicon glyphicon-remove-circle"></i>
            </button>
          </th>
          <th st-sort="uuid">UUID</th>
          <th st-sort="name">Name</th>
          <th st-sort="time">Last check</th>
          <th st-sort="active">Status</th>
          <th st-sort="port">Port</th>
          <th st-sort="established">Pids</th>
          <th st-sort="message">Message</th>
          <th st-sort="data">Data</th>
          <th></th>
        </tr>
        <tr>
          <th colspan="1"><st-select-all all="displayedCollection"></st-select-all></th>
          <th colspan="7"><input st-search="" class="form-control" placeholder="Search ..." type="text"/></th>
          <th colspan="1"><input ng-model="data" ng-keypress="($event.which === 13) && selectedUpdateData(data)" class="form-control" placeholder="Set data ..." type="text"/></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-class="{success: row.listen}" ng-repeat="row in displayedCollection">
          <td cs-select="row"></td>
          <td>{{row.uuid}}</td>
          <td>{{row.name}}</td>
          <td am-time-ago="row.time" am-preprocess="unix"></td>
          <td><toggle-switch ng-model="row.active" class="switch-mini"></toggle-switch></td>
          <td>{{row.port}}</td>
          <td>{{row.established}}</td>
          <td>{{row.message}}</td>
          <td>{{row.data}}</td>
        </tr>
      </tbody>
    </table>

  </body>
</html>
