

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Preassembly (indra.preassembler) &mdash; INDRA 1.5.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="INDRA 1.5.0 documentation" href="../../index.html"/>
        <link rel="up" title="INDRA modules reference" href="../index.html"/>
        <link rel="next" title="Belief Engine (indra.belief)" href="../belief/index.html"/>
        <link rel="prev" title="Literature clients (indra.literature)" href="../literature/index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../index.html" class="icon icon-home"> INDRA
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#installing-python">Installing Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#installing-indra">Installing INDRA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#installing-via-github">Installing via Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#cloning-the-source-code-from-github">Cloning the source code from Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#installing-releases-with-pip">Installing releases with pip</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#indra-dependencies">INDRA dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#pysb-and-bionetgen">PySB and BioNetGen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#pyjnius">Pyjnius</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#graphviz">Graphviz</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#matplotlib">Matplotlib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#optional-additional-dependencies">Optional additional dependencies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started with INDRA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html#importing-indra-and-its-modules">Importing INDRA and its modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html#basic-usage-examples">Basic usage examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#reading-a-sentence-with-trips">Reading a sentence with TRIPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#reading-a-pubmed-central-article-with-reach">Reading a PubMed Central article with REACH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#getting-the-neighborhood-of-proteins-from-the-bel-large-corpus">Getting the neighborhood of proteins from the BEL Large Corpus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#getting-paths-between-two-proteins-from-pathwaycommons-biopax">Getting paths between two proteins from PathwayCommons (BioPAX)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#constructing-indra-statements-manually">Constructing INDRA Statements manually</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#assembling-a-pysb-model-and-exporting-to-sbml">Assembling a PySB model and exporting to SBML</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">INDRA modules reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../statements.html">INDRA Statements (<code class="docutils literal"><span class="pre">indra.statements</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sources/index.html">Processors for model input (<code class="docutils literal"><span class="pre">indra.sources</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sources/bel/index.html">BEL (<code class="docutils literal"><span class="pre">indra.sources.bel</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sources/bel/index.html#module-indra.sources.bel.bel_api">BEL API (<code class="docutils literal"><span class="pre">indra.sources.bel.bel_api</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/bel/index.html#module-indra.sources.bel.processor">BEL Processor (<code class="docutils literal"><span class="pre">indra.sources.bel.processor</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sources/biopax/index.html">Biopax (<code class="docutils literal"><span class="pre">indra.sources.biopax</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sources/biopax/index.html#module-indra.sources.biopax.biopax_api">Biopax API (<code class="docutils literal"><span class="pre">indra.sources.biopax.biopax_api</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/biopax/index.html#module-indra.sources.biopax.processor">Biopax Processor (<code class="docutils literal"><span class="pre">indra.sources.biopax.processor</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/biopax/index.html#module-indra.sources.biopax.pathway_commons_client">Pathway Commons Client (<code class="docutils literal"><span class="pre">indra.sources.biopax.pathway_commons_client</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sources/reach/index.html">REACH (<code class="docutils literal"><span class="pre">indra.sources.reach</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sources/reach/index.html#module-indra.sources.reach.reach_api">REACH API (<code class="docutils literal"><span class="pre">indra.sources.reach.reach_api</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/reach/index.html#module-indra.sources.reach.processor">REACH Processor (<code class="docutils literal"><span class="pre">indra.sources.reach.processor</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/reach/index.html#module-indra.sources.reach.reach_reader">REACH reader (<code class="docutils literal"><span class="pre">indra.sources.reach.reach_reader</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sources/trips/index.html">TRIPS (<code class="docutils literal"><span class="pre">indra.sources.trips</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sources/trips/index.html#module-indra.sources.trips.trips_api">TRIPS API (<code class="docutils literal"><span class="pre">indra.sources.trips.trips_api</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/trips/index.html#module-indra.sources.trips.processor">TRIPS Processor (<code class="docutils literal"><span class="pre">indra.sources.trips.processor</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sources/trips/index.html#module-indra.sources.trips.trips_client">TRIPS Client (<code class="docutils literal"><span class="pre">indra.sources.trips.trips_client</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sources/ndex_cx/index.html">NDEx CX API (<code class="docutils literal"><span class="pre">indra.sources.ndex_cx_api</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sources/ndex_cx/index.html#ndex-cx-processor-indra-sources-ndex-cx-processor">NDEx CX Processor (<code class="docutils literal"><span class="pre">indra.sources.ndex_cx.processor</span></code>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../databases/index.html">Database clients (<code class="docutils literal"><span class="pre">indra.databases</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.hgnc_client">HGNC client (<code class="docutils literal"><span class="pre">indra.hgnc_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.uniprot_client">Uniprot client (<code class="docutils literal"><span class="pre">indra.databases.uniprot_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.chebi_client">ChEBI client (<code class="docutils literal"><span class="pre">indra.databases.chebi_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.biogrid_client">BioGRID client (<code class="docutils literal"><span class="pre">indra.databases.biogrid_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.context_client">Cell type context client (<code class="docutils literal"><span class="pre">indra.databases.context_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.relevance_client">Network relevance client (<code class="docutils literal"><span class="pre">indra.databases.relevance_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.ndex_client">NDEx client (<code class="docutils literal"><span class="pre">indra.databases.ndex_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../databases/index.html#module-indra.databases.cbio_client">cBio portal client (<code class="docutils literal"><span class="pre">indra.databases.cbio_client</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../literature/index.html">Literature clients (<code class="docutils literal"><span class="pre">indra.literature</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../literature/index.html#module-indra.literature.pubmed_client">Pubmed client (<code class="docutils literal"><span class="pre">indra.literature.pubmed_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../literature/index.html#module-indra.literature.pmc_client">Pubmed Central client (<code class="docutils literal"><span class="pre">indra.literature.pmc_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../literature/index.html#module-indra.literature.crossref_client">CrossRef client (<code class="docutils literal"><span class="pre">indra.literature.crossref_client</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../literature/index.html#module-indra.literature.elsevier_client">Elsevier client (<code class="docutils literal"><span class="pre">indra.literature.elsevier_client</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Preassembly (<code class="docutils literal"><span class="pre">indra.preassembler</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler">Preassembler (<code class="docutils literal"><span class="pre">indra.preassembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler.grounding_mapper">Entity grounding curation and mapping (<code class="docutils literal"><span class="pre">indra.preassembler.grounding_mapper</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler.sitemapper">Site curation and mapping (<code class="docutils literal"><span class="pre">indra.preassembler.sitemapper</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler.hierarchy_manager">Hierarchy manager (<code class="docutils literal"><span class="pre">indra.preassembler.hierarchy_manager</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../belief/index.html">Belief Engine (<code class="docutils literal"><span class="pre">indra.belief</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mechlinker/index.html">Mechanism Linker (<code class="docutils literal"><span class="pre">indra.mechlinker</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assemblers/index.html">Assemblers of model output (<code class="docutils literal"><span class="pre">indra.assemblers</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/pysb_assembler.html">Executable PySB models (<code class="docutils literal"><span class="pre">indra.assemblers.pysb_assembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/cx_assembler.html">Cytoscape networks (<code class="docutils literal"><span class="pre">indra.assemblers.cx_assembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/english_assembler.html">Natural language (<code class="docutils literal"><span class="pre">indra.assemblers.english_assembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/graph_assembler.html">Node-edge graphs (<code class="docutils literal"><span class="pre">indra.assemblers.graph_assembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/sif_assembler.html">SIF / Boolean networks (<code class="docutils literal"><span class="pre">indra.assemblers.sif_assembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/index_card_assembler.html">MITRE &#8220;index cards&#8221; (<code class="docutils literal"><span class="pre">indra.assemblers.index_card_assembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../assemblers/sbgn_assembler.html">SBGN output (<code class="docutils literal"><span class="pre">indra.assemblers.sbgn_assembler</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../explanation/index.html">Explanation (<code class="docutils literal"><span class="pre">indra.explanation</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../explanation/index.html#module-indra.explanation.model_checker">Check whether a rule-based model satisfies a property (<code class="docutils literal"><span class="pre">indra.explanation.model_checker</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tools/index.html">Tools (<code class="docutils literal"><span class="pre">indra.tools</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tools/index.html#module-indra.tools.assemble_corpus">Run assembly components in a pipeline (<code class="docutils literal"><span class="pre">indra.tools.assemble_corpus</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tools/index.html#module-indra.tools.gene_network">Build a network from a gene list (<code class="docutils literal"><span class="pre">indra.tools.gene_network</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tools/index.html#module-indra.tools.executable_subnetwork">Build an executable model from a fragment of a large network (<code class="docutils literal"><span class="pre">indra.tools.executable_subnetwork</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tools/index.html#module-indra.tools.incremental_model">Build a model incrementally over time (<code class="docutils literal"><span class="pre">indra.tools.incremental_model</span></code>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/nl_modeling.html">Using natural language to build models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nl_modeling.html#read-indra-statements-from-a-natural-language-string">Read INDRA Statements from a natural language string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nl_modeling.html#assemble-the-indra-statements-into-a-rule-based-executable-model">Assemble the INDRA Statements into a rule-based executable model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nl_modeling.html#exporting-the-model-into-other-common-formats">Exporting the model into other common formats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/machine_reading.html">Large-Scale Machine Reading with Starcluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#install-reach">Install REACH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#install-amazon-s3-support">Install Amazon S3 support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#install-other-dependencies">Install other dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#assemble-a-corpus-of-pmids">Assemble a Corpus of PMIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#process-the-papers-with-reach">Process the papers with REACH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#extract-indra-statements-from-the-reach-output-on-s3">Extract INDRA Statements from the REACH output on S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading.html#running-the-whole-pipeline-with-one-script">Running the whole pipeline with one script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/machine_reading_aws.html">Large-Scale Machine Reading with Amazon Batch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/machine_reading_aws.html#how-it-works">How it Works</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/gene_network.html">Assembling everything known about a particular gene</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/gene_network.html#collect-mechanisms-from-pathwaycommons-and-the-bel-large-corpus">Collect mechanisms from PathwayCommons and the BEL Large Corpus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/gene_network.html#collect-a-list-of-publications-that-discuss-the-gene-of-interest">Collect a list of publications that discuss the gene of interest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/gene_network.html#get-the-full-text-or-abstract-corresponding-to-the-publications">Get the full text or abstract corresponding to the publications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/gene_network.html#read-the-content-of-the-publications">Read the content of the publications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/gene_network.html#combine-all-statements-and-run-pre-assembly">Combine all statements and run pre-assembly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/gene_network.html#assemble-the-statements-into-a-network-model">Assemble the statements into a network model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rest_api.html">REST API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rest_api.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rest_api.html#launching-the-rest-service">Launching the REST service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rest_api.html#documentation">Documentation</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">INDRA</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">INDRA modules reference</a> &raquo;</li>
      
    <li>Preassembly (<code class="docutils literal"><span class="pre">indra.preassembler</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/modules/preassembler/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="preassembly-indra-preassembler">
<h1>Preassembly (<a class="reference internal" href="#module-indra.preassembler" title="indra.preassembler"><code class="xref py py-mod docutils literal"><span class="pre">indra.preassembler</span></code></a>)<a class="headerlink" href="#preassembly-indra-preassembler" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-indra.preassembler">
<span id="preassembler-indra-preassembler"></span><h2>Preassembler (<a class="reference internal" href="#module-indra.preassembler" title="indra.preassembler"><code class="xref py py-mod docutils literal"><span class="pre">indra.preassembler</span></code></a>)<a class="headerlink" href="#module-indra.preassembler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.Preassembler">
<em class="property">class </em><code class="descclassname">indra.preassembler.</code><code class="descname">Preassembler</code><span class="sig-paren">(</span><em>hierarchies</em>, <em>stmts=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler" title="Permalink to this definition">¶</a></dt>
<dd><p>De-duplicates statements and arranges them in a specificity hierarchy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hierarchies</strong> (dict[<a class="reference internal" href="#module-indra.preassembler.hierarchy_manager" title="indra.preassembler.hierarchy_manager"><code class="xref py py-class docutils literal"><span class="pre">indra.preassembler.hierarchy_manager</span></code></a>]) &#8211; A dictionary of hierarchies with keys such as &#8216;entity&#8217; (hierarchy of
entities, primarily specifying relationships between genes and their
families) and &#8216;modification&#8217; pointing to HierarchyManagers</li>
<li><strong>stmts</strong> (list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a> or None) &#8211; A set of statements to perform pre-assembly on. If None, statements
should be added using the <a class="reference internal" href="#indra.preassembler.Preassembler.add_statements" title="indra.preassembler.Preassembler.add_statements"><code class="xref py py-meth docutils literal"><span class="pre">add_statements()</span></code></a> method.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="indra.preassembler.Preassembler.stmts">
<code class="descname">stmts</code><a class="headerlink" href="#indra.preassembler.Preassembler.stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a> &#8211; Starting set of statements for preassembly.</p>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.Preassembler.unique_stmts">
<code class="descname">unique_stmts</code><a class="headerlink" href="#indra.preassembler.Preassembler.unique_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a> &#8211; Statements resulting from combining duplicates.</p>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.Preassembler.related_stmts">
<code class="descname">related_stmts</code><a class="headerlink" href="#indra.preassembler.Preassembler.related_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a> &#8211; Top-level statements after building the refinement hierarchy.</p>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.Preassembler.hierarchies">
<code class="descname">hierarchies</code><a class="headerlink" href="#indra.preassembler.Preassembler.hierarchies" title="Permalink to this definition">¶</a></dt>
<dd><p>dict[<a class="reference internal" href="#module-indra.preassembler.hierarchy_manager" title="indra.preassembler.hierarchy_manager"><code class="xref py py-class docutils literal"><span class="pre">indra.preassembler.hierarchy_manager</span></code></a>] &#8211; A dictionary of hierarchies with keys such as &#8216;entity&#8217; and
&#8216;modification&#8217; pointing to HierarchyManagers</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.add_statements">
<code class="descname">add_statements</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.add_statements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.add_statements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add to the current list of statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; Statements to add to the current list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="indra.preassembler.Preassembler.combine_duplicate_stmts">
<em class="property">static </em><code class="descname">combine_duplicate_stmts</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.combine_duplicate_stmts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.combine_duplicate_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine evidence from duplicate Statements.</p>
<p>Statements are deemed to be duplicates if they have the same key
returned by the <cite>matches_key()</cite> method of the Statement class. This
generally means that statements must be identical in terms of their
arguments and can differ only in their associated <cite>Evidence</cite> objects.</p>
<p>This function keeps the first instance of each set of duplicate
statements and merges the lists of Evidence from all of the other
statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; Set of statements to de-duplicate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Unique statements with accumulated evidence across duplicates.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>De-duplicate and combine evidence for two statements differing only
in their evidence lists:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapk1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAPK1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">map2k1</span><span class="p">,</span> <span class="n">mapk1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;185&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;evidence 1&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">map2k1</span><span class="p">,</span> <span class="n">mapk1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;185&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;evidence 2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uniq_stmts</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="o">.</span><span class="n">combine_duplicate_stmts</span><span class="p">([</span><span class="n">stmt1</span><span class="p">,</span> <span class="n">stmt2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uniq_stmts</span>
<span class="go">[Phosphorylation(MAP2K1(), MAPK1(), T, 185)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">uniq_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evidence</span><span class="p">])</span> 
<span class="go">[&#39;evidence 1&#39;, &#39;evidence 2&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.combine_duplicates">
<code class="descname">combine_duplicates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.combine_duplicates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.combine_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine duplicates among <cite>stmts</cite> and save result in <cite>unique_stmts</cite>.</p>
<p>A wrapper around the static method <a class="reference internal" href="#indra.preassembler.Preassembler.combine_duplicate_stmts" title="indra.preassembler.Preassembler.combine_duplicate_stmts"><code class="xref py py-meth docutils literal"><span class="pre">combine_duplicate_stmts()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.combine_related">
<code class="descname">combine_related</code><span class="sig-paren">(</span><em>return_toplevel=True</em>, <em>poolsize=None</em>, <em>size_cutoff=100</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.combine_related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.combine_related" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect related statements based on their refinement relationships.</p>
<p>This function takes as a starting point the unique statements (with
duplicates removed) and returns a modified flat list of statements
containing only those statements which do not represent a refinement of
other existing statements. In other words, the more general versions of
a given statement do not appear at the top level, but instead are
listed in the <cite>supports</cite> field of the top-level statements.</p>
<p>If <a class="reference internal" href="#indra.preassembler.Preassembler.unique_stmts" title="indra.preassembler.Preassembler.unique_stmts"><code class="xref py py-attr docutils literal"><span class="pre">unique_stmts</span></code></a> has not been initialized with the
de-duplicated statements, <a class="reference internal" href="#indra.preassembler.Preassembler.combine_duplicates" title="indra.preassembler.Preassembler.combine_duplicates"><code class="xref py py-meth docutils literal"><span class="pre">combine_duplicates()</span></code></a> is called
internally.</p>
<p>After this function is called the attribute <a class="reference internal" href="#indra.preassembler.Preassembler.related_stmts" title="indra.preassembler.Preassembler.related_stmts"><code class="xref py py-attr docutils literal"><span class="pre">related_stmts</span></code></a> is
set as a side-effect.</p>
<p>The procedure for combining statements in this way involves a series
of steps:</p>
<ol class="arabic simple">
<li>The statements are grouped by type (e.g., Phosphorylation) and
each type is iterated over independently.</li>
<li>Statements of the same type are then grouped according to their
Agents&#8217; entity hierarchy component identifiers. For instance,
ERK, MAPK1 and MAPK3 are all in the same connected component in the
entity hierarchy and therefore all Statements of the same type
referencing these entities will be grouped. This grouping assures
that relations are only possible within Statement groups and
not among groups. For two Statements to be in the same group at
this step, the Statements must be the same type and the Agents at
each position in the Agent lists must either be in the same
hierarchy component, or if they are not in the hierarchy, must have
identical entity_matches_keys. Statements with None in one of the
Agent list positions are collected separately at this stage.</li>
<li>Statements with None at either the first or second position are
iterated over. For a statement with a None as the first Agent,
the second Agent is examined; then the Statement with None is
added to all Statement groups with a corresponding component or
entity_matches_key in the second position. The same procedure is
performed for Statements with None at the second Agent position.</li>
<li>The statements within each group are then compared; if one
statement represents a refinement of the other (as defined by the
<cite>refinement_of()</cite> method implemented for the Statement), then the
more refined statement is added to the <cite>supports</cite> field of the more
general statement, and the more general statement is added to the
<cite>supported_by</cite> field of the more refined statement.</li>
<li>A new flat list of statements is created that contains only those
statements that have no <cite>supports</cite> entries (statements containing
such entries are not eliminated, because they will be retrievable
from the <cite>supported_by</cite> fields of other statements). This list
is returned to the caller.</li>
</ol>
<p>On multi-core machines, the algorithm can be parallelized by setting
the poolsize argument to the desired number of worker processes.
This feature is only available in Python &gt; 3.4.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Subfamily relationships must be consistent across arguments</p>
<p class="last">For now, we require that merges can only occur if the <em>isa</em>
relationships are all in the <em>same direction for all the agents</em> in
a Statement. For example, the two statement groups: <cite>RAF_family -&gt;
MEK1</cite> and <cite>BRAF -&gt; MEK_family</cite> would not be merged, since BRAF
<em>isa</em> RAF_family, but MEK_family is not a MEK1. In the future this
restriction could be revisited.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>return_toplevel</strong> (<em>Optional[bool]</em>) &#8211; If True only the top level statements are returned.
If False, all statements are returned. Default: True</li>
<li><strong>poolsize</strong> (<em>Optional[int]</em>) &#8211; The number of worker processes to use to parallelize the
comparisons performed by the function. If None (default), no
parallelization is performed. NOTE: Parallelization is only
available on Python 3.4 and above.</li>
<li><strong>size_cutoff</strong> (<em>Optional[int]</em>) &#8211; Groups with size_cutoff or more statements are sent to worker
processes, while smaller groups are compared in the parent process.
Default value is 100. Not relevant when parallelization is not
used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The returned list contains Statements representing the more
concrete/refined versions of the Statements involving particular
entities. The attribute <a class="reference internal" href="#indra.preassembler.Preassembler.related_stmts" title="indra.preassembler.Preassembler.related_stmts"><code class="xref py py-attr docutils literal"><span class="pre">related_stmts</span></code></a> is also set to
this list. However, if return_toplevel is False then all
statements are returned, irrespective of level of specificity.
In this case the relationships between statements can
be accessed via the supports/supported_by attributes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <code class="xref py py-class docutils literal"><span class="pre">indra.statement.Statement</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>A more general statement with no information about a Phosphorylation
site is identified as supporting a more specific statement:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supported_by</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1())]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supported_by</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supports</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="indra.preassembler.flatten_evidence">
<code class="descclassname">indra.preassembler.</code><code class="descname">flatten_evidence</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#flatten_evidence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.flatten_evidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Add evidence from <em>supporting</em> stmts to evidence for <em>supported</em> stmts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; A list of top-level statements with associated supporting statements
resulting from building a statement hierarchy with
<code class="xref py py-meth docutils literal"><span class="pre">combine_related()</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>stmts</strong> &#8211; Statement hierarchy identical to the one passed, but with the
evidence lists for each statement now containing all of the evidence
associated with the statements they are supported by.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Flattening evidence adds the two pieces of evidence from the supporting
statement to the evidence list of the top-level statement:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">),</span> <span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;baz&#39;</span><span class="p">),</span> <span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;bak&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evidence</span><span class="p">]</span> 
<span class="go">[&#39;baz&#39;, &#39;bak&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span> <span class="o">=</span> <span class="n">flatten_evidence</span><span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">flattened</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evidence</span><span class="p">])</span> 
<span class="go">[&#39;bak&#39;, &#39;bar&#39;, &#39;baz&#39;, &#39;foo&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.flatten_stmts">
<code class="descclassname">indra.preassembler.</code><code class="descname">flatten_stmts</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#flatten_stmts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.flatten_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full set of unique stms in a pre-assembled stmt graph.</p>
<p>The flattened list of of statements returned by this function can be
compared to the original set of unique statements to make sure no
statements have been lost during the preassembly process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; A list of top-level statements with associated supporting statements
resulting from building a statement hierarchy with
<code class="xref py py-meth docutils literal"><span class="pre">combine_related()</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>stmts</strong> &#8211; List of all statements contained in the hierarchical statement graph.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Calling <code class="xref py py-meth docutils literal"><span class="pre">combine_related()</span></code> on two statements results in one
top-level statement; calling <a class="reference internal" href="#indra.preassembler.flatten_stmts" title="indra.preassembler.flatten_stmts"><code class="xref py py-func docutils literal"><span class="pre">flatten_stmts()</span></code></a> recovers both:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span> <span class="o">=</span> <span class="n">flatten_stmts</span><span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">matches_key</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1()), Phosphorylation(BRAF(), MAP2K1(), S)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.render_stmt_graph">
<code class="descclassname">indra.preassembler.</code><code class="descname">render_stmt_graph</code><span class="sig-paren">(</span><em>statements</em>, <em>agent_style=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#render_stmt_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.render_stmt_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the statement hierarchy as a pygraphviz graph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmts</strong> (list of <a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; A list of top-level statements with associated supporting statements
resulting from building a statement hierarchy with
<code class="xref py py-meth docutils literal"><span class="pre">combine_related()</span></code>.</li>
<li><strong>agent_style</strong> (<em>dict or None</em>) &#8211; <p>Dict of attributes specifying the visual properties of nodes. If None,
the following default attributes are used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">agent_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;lightgray&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;filled&#39;</span><span class="p">,</span>
               <span class="s1">&#39;fontname&#39;</span><span class="p">:</span> <span class="s1">&#39;arial&#39;</span><span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pygraphviz graph with nodes representing statements and edges pointing
from supported statements to supported_by statements.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pygraphviz.AGraph</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Pattern for getting statements and rendering as a Graphviz graph:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">render_stmt_graph</span><span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;example_graph.dot&#39;</span><span class="p">)</span> <span class="c1"># To make the DOT file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;example_graph.png&#39;</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;dot&#39;</span><span class="p">)</span> <span class="c1"># To make an image</span>
</pre></div>
</div>
<p>Resulting graph:</p>
<img alt="Example statement graph rendered by Graphviz" class="align-center" src="../../_images/example_graph.png" />
</dd></dl>

</div>
<div class="section" id="module-indra.preassembler.grounding_mapper">
<span id="entity-grounding-curation-and-mapping-indra-preassembler-grounding-mapper"></span><h2>Entity grounding curation and mapping (<a class="reference internal" href="#module-indra.preassembler.grounding_mapper" title="indra.preassembler.grounding_mapper"><code class="xref py py-mod docutils literal"><span class="pre">indra.preassembler.grounding_mapper</span></code></a>)<a class="headerlink" href="#module-indra.preassembler.grounding_mapper" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="indra.preassembler.grounding_mapper.protein_map_from_twg">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">protein_map_from_twg</code><span class="sig-paren">(</span><em>twg</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#protein_map_from_twg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.protein_map_from_twg" title="Permalink to this definition">¶</a></dt>
<dd><p>Build map of entity texts to validated protein grounding.</p>
<p>Looks at the grounding of the entity texts extracted from the statements
and finds proteins where there is grounding to a human protein that maps to
an HGNC name that is an exact match to the entity text. Returns a dict that
can be used to update/expand the grounding map.</p>
</dd></dl>

</div>
<div class="section" id="module-indra.preassembler.sitemapper">
<span id="site-curation-and-mapping-indra-preassembler-sitemapper"></span><h2>Site curation and mapping (<a class="reference internal" href="#module-indra.preassembler.sitemapper" title="indra.preassembler.sitemapper"><code class="xref py py-mod docutils literal"><span class="pre">indra.preassembler.sitemapper</span></code></a>)<a class="headerlink" href="#module-indra.preassembler.sitemapper" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.sitemapper.MappedStatement">
<em class="property">class </em><code class="descclassname">indra.preassembler.sitemapper.</code><code class="descname">MappedStatement</code><span class="sig-paren">(</span><em>original_stmt</em>, <em>mapped_mods</em>, <em>mapped_stmt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#MappedStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.MappedStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about a Statement found to have invalid sites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>original_stmt</strong> (<a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; The statement prior to mapping.</li>
<li><strong>mapped_mods</strong> (<em>list of tuples</em>) &#8211; A list of invalid sites, where each entry in the list has two
elements: ((gene_name, residue, position), mapped_site).  If the
invalid position was not found in the site map, mapped_site is
None; otherwise it is a tuple consisting of (residue, position,
comment).</li>
<li><strong>mapped_stmt</strong> (<a class="reference internal" href="../statements.html#indra.statements.Statement" title="indra.statements.Statement"><code class="xref py py-class docutils literal"><span class="pre">indra.statements.Statement</span></code></a>) &#8211; The statement after mapping. Note that if no information was found
in the site map, it will be identical to the original statement.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="indra.preassembler.sitemapper.SiteMapper">
<em class="property">class </em><code class="descclassname">indra.preassembler.sitemapper.</code><code class="descname">SiteMapper</code><span class="sig-paren">(</span><em>site_map</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#SiteMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.SiteMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Use curated site information to standardize modification sites in stmts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>site_map</strong> (dict (as returned by <a class="reference internal" href="#indra.preassembler.sitemapper.load_site_map" title="indra.preassembler.sitemapper.load_site_map"><code class="xref py py-func docutils literal"><span class="pre">load_site_map()</span></code></a>)) &#8211; A dict mapping tuples of the form <cite>(gene, orig_res, orig_pos)</cite> to a
tuple of the form <cite>(correct_res, correct_pos, comment)</cite>, where <cite>gene</cite>
is the string name of the gene (canonicalized to HGNC); <cite>orig_res</cite> and
<cite>orig_pos</cite> are the residue and position to be mapped; <cite>correct_res</cite> and
<cite>correct_pos</cite> are the corrected residue and position, and <cite>comment</cite> is
a string describing the reason for the mapping (species error, isoform
error, wrong residue name, etc.).</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Fixing site errors on both the modification state of an agent (MAP2K1) and
the target of a Phosphorylation statement (MAPK1):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1_phos</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">,</span> <span class="n">db_refs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;UP&#39;</span><span class="p">:</span><span class="s1">&#39;Q02750&#39;</span><span class="p">},</span> <span class="n">mods</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span><span class="n">ModCondition</span><span class="p">(</span><span class="s1">&#39;phosphorylation&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;217&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="n">ModCondition</span><span class="p">(</span><span class="s1">&#39;phosphorylation&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;221&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapk1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAPK1&#39;</span><span class="p">,</span> <span class="n">db_refs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;UP&#39;</span><span class="p">:</span><span class="s1">&#39;P28482&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">map2k1_phos</span><span class="p">,</span> <span class="n">mapk1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;183&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">valid</span><span class="p">,</span> <span class="n">mapped</span><span class="p">)</span> <span class="o">=</span> <span class="n">default_mapper</span><span class="o">.</span><span class="n">map_sites</span><span class="p">([</span><span class="n">stmt</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valid</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapped</span>  
<span class="go">[</span>
<span class="go">MappedStatement:</span>
<span class="go">    original_stmt: Phosphorylation(MAP2K1(mods: (phosphorylation, S, 217), (phosphorylation, S, 221)), MAPK1(), T, 183)</span>
<span class="go">    mapped_mods: ((&#39;MAP2K1&#39;, &#39;S&#39;, &#39;217&#39;), (&#39;S&#39;, &#39;218&#39;, &#39;off by one&#39;))</span>
<span class="go">                 ((&#39;MAP2K1&#39;, &#39;S&#39;, &#39;221&#39;), (&#39;S&#39;, &#39;222&#39;, &#39;off by one&#39;))</span>
<span class="go">                 ((&#39;MAPK1&#39;, &#39;T&#39;, &#39;183&#39;), (&#39;T&#39;, &#39;185&#39;, &#39;off by two; mouse sequence&#39;))</span>
<span class="go">    mapped_stmt: Phosphorylation(MAP2K1(mods: (phosphorylation, S, 218), (phosphorylation, S, 222)), MAPK1(), T, 185)</span>
<span class="go">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span> <span class="o">=</span> <span class="n">mapped</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">original_stmt</span>
<span class="go">Phosphorylation(MAP2K1(mods: (phosphorylation, S, 217), (phosphorylation, S, 221)), MAPK1(), T, 183)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">mapped_mods</span> 
<span class="go">[((&#39;MAP2K1&#39;, &#39;S&#39;, &#39;217&#39;), (&#39;S&#39;, &#39;218&#39;, &#39;off by one&#39;)), ((&#39;MAP2K1&#39;, &#39;S&#39;, &#39;221&#39;), (&#39;S&#39;, &#39;222&#39;, &#39;off by one&#39;)), ((&#39;MAPK1&#39;, &#39;T&#39;, &#39;183&#39;), (&#39;T&#39;, &#39;185&#39;, &#39;off by two; mouse sequence&#39;))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">mapped_stmt</span>
<span class="go">Phosphorylation(MAP2K1(mods: (phosphorylation, S, 218), (phosphorylation, S, 222)), MAPK1(), T, 185)</span>
</pre></div>
</div>
<dl class="method">
<dt id="indra.preassembler.sitemapper.SiteMapper.map_sites">
<code class="descname">map_sites</code><span class="sig-paren">(</span><em>stmts</em>, <em>do_methionine_offset=True</em>, <em>do_orthology_mapping=True</em>, <em>do_isoform_mapping=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#SiteMapper.map_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.SiteMapper.map_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a set of statements for invalid modification sites.</p>
<p>Statements are checked against Uniprot reference sequences to determine
if residues referred to by post-translational modifications exist at
the given positions.</p>
<p>If there is nothing amiss with a statement (modifications on any of the
agents, modifications made in the statement, etc.), then the statement
goes into the list of valid statements. If there is a problem with the
statement, the offending modifications are looked up in the site map
(<code class="xref py py-attr docutils literal"><span class="pre">site_map</span></code>), and an instance of <a class="reference internal" href="#indra.preassembler.sitemapper.MappedStatement" title="indra.preassembler.sitemapper.MappedStatement"><code class="xref py py-class docutils literal"><span class="pre">MappedStatement</span></code></a>
is added to the list of mapped statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal"><span class="pre">indra.statement.Statement</span></code>) &#8211; The statements to check for site errors.</li>
<li><strong>do_methionine_offset</strong> (<em>boolean</em>) &#8211; Whether to check for off-by-one errors in site position (possibly)
attributable to site numbering from mature proteins after
cleavage of the initial methionine. If True, checks the reference
sequence for a known modification at 1 site position greater
than the given one; if there exists such a site, creates the
mapping. Default is True.</li>
<li><strong>do_orthology_mapping</strong> (<em>boolean</em>) &#8211; Whether to check sequence positions for known modification sites
in mouse or rat sequences (based on PhosphoSitePlus data). If a
mouse/rat site is found that is linked to a site in the human
reference sequence, a mapping is created. Default is True.</li>
<li><strong>do_isoform_mapping</strong> (<em>boolean</em>) &#8211; Whether to check sequence positions for known modifications
in other human isoforms of the protein (based on PhosphoSitePlus
data). If a site is found that is linked to a site in the human
reference sequence, a mapping is created. Default is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">2-tuple containing (valid_statements, mapped_statements). The first
element of the tuple is a list valid statements
(<code class="xref py py-class docutils literal"><span class="pre">indra.statement.Statement</span></code>) that were not found to
contain any site errors. The second element of the tuple is a list
of mapped statements (<a class="reference internal" href="#indra.preassembler.sitemapper.MappedStatement" title="indra.preassembler.sitemapper.MappedStatement"><code class="xref py py-class docutils literal"><span class="pre">MappedStatement</span></code></a>) with information
on the incorrect sites and corresponding statements with correctly
mapped sites.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="indra.preassembler.sitemapper.default_mapper">
<code class="descclassname">indra.preassembler.sitemapper.</code><code class="descname">default_mapper</code><em class="property"> = &lt;indra.preassembler.sitemapper.SiteMapper object&gt;</em><a class="headerlink" href="#indra.preassembler.sitemapper.default_mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>A default instance of <a class="reference internal" href="#indra.preassembler.sitemapper.SiteMapper" title="indra.preassembler.sitemapper.SiteMapper"><code class="xref py py-class docutils literal"><span class="pre">SiteMapper</span></code></a> that contains the site
information found in resources/curated_site_map.csv&#8217;.</p>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.sitemapper.load_site_map">
<code class="descclassname">indra.preassembler.sitemapper.</code><code class="descname">load_site_map</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#load_site_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.load_site_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the modification site map from a file.</p>
<p>The site map file should be a comma-separated file with six columns:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Gene</span><span class="p">:</span> <span class="n">HGNC</span> <span class="n">gene</span> <span class="n">name</span>
<span class="n">OrigRes</span><span class="p">:</span> <span class="n">Original</span> <span class="p">(</span><span class="n">incorrect</span><span class="p">)</span> <span class="n">residue</span>
<span class="n">OrigPos</span><span class="p">:</span> <span class="n">Original</span> <span class="p">(</span><span class="n">incorrect</span><span class="p">)</span> <span class="n">residue</span> <span class="n">position</span>
<span class="n">CorrectRes</span><span class="p">:</span> <span class="n">The</span> <span class="n">correct</span> <span class="n">residue</span> <span class="k">for</span> <span class="n">the</span> <span class="n">modification</span>
<span class="n">CorrectPos</span><span class="p">:</span> <span class="n">The</span> <span class="n">correct</span> <span class="n">residue</span> <span class="n">position</span>
<span class="n">Comment</span><span class="p">:</span> <span class="n">Description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">reason</span> <span class="k">for</span> <span class="n">the</span> <span class="n">error</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) &#8211; Path to the tab-separated site map file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict mapping tuples of the form <cite>(gene, orig_res, orig_pos)</cite> to a
tuple of the form <cite>(correct_res, correct_pos, comment)</cite>, where <cite>gene</cite>
is the string name of the gene (canonicalized to HGNC); <cite>orig_res</cite> and
<cite>orig_pos</cite> are the residue and position to be mapped; <cite>correct_res</cite> and
<cite>correct_pos</cite> are the corrected residue and position, and <cite>comment</cite> is
a string describing the reason for the mapping (species error, isoform
error, wrong residue name, etc.).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-indra.preassembler.hierarchy_manager">
<span id="hierarchy-manager-indra-preassembler-hierarchy-manager"></span><h2>Hierarchy manager (<a class="reference internal" href="#module-indra.preassembler.hierarchy_manager" title="indra.preassembler.hierarchy_manager"><code class="xref py py-mod docutils literal"><span class="pre">indra.preassembler.hierarchy_manager</span></code></a>)<a class="headerlink" href="#module-indra.preassembler.hierarchy_manager" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager">
<em class="property">class </em><code class="descclassname">indra.preassembler.hierarchy_manager.</code><code class="descname">HierarchyManager</code><span class="sig-paren">(</span><em>rdf_file</em>, <em>build_closure=True</em>, <em>uri_as_name=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Store hierarchical relationships between different types of entities.</p>
<p>Used to store, e.g., entity hierarchies (proteins and protein families)
and modification hierarchies (serine phosphorylation vs. phosphorylation).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rdf_file</strong> (<em>string</em>) &#8211; Path to the RDF file containing the hierarchy.</li>
<li><strong>build_closure</strong> (<em>Optional[bool]</em>) &#8211; If True, the transitive closure of the hierarchy is generated
up from to speed up processing. Default: True</li>
<li><strong>uri_as_name</strong> (<em>Optional[bool]</em>) &#8211; If True, entries are accessed directly by their URIs. If False
entries are accessed by finding their name through the
hasName relationship. Default: True</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.graph">
<code class="descname">graph</code><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>instance of <cite>rdflib.Graph</cite> &#8211; The RDF graph containing the hierarchy.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.build_transitive_closures">
<code class="descname">build_transitive_closures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.build_transitive_closures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.build_transitive_closures" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the transitive closures of the hierarchy.</p>
<p>This method constructs dictionaries which contain terms in the
hierarchy as keys and either all the &#8220;isa+&#8221; or &#8220;partof+&#8221; related terms
as values.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>uri</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.get_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all (not just immediate) children of a given entry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uri</strong> (<em>str</em>) &#8211; The URI of the entry whose children are to be returned. See the
get_uri method to construct this URI from a name space and id.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.get_parents">
<code class="descname">get_parents</code><span class="sig-paren">(</span><em>uri</em>, <em>type=u'all'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.get_parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.get_parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parents of a given entry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uri</strong> (<em>str</em>) &#8211; The URI of the entry whose parents are to be returned. See the
get_uri method to construct this URI from a name space and id.</li>
<li><strong>type</strong> (<em>str</em>) &#8211; &#8216;all&#8217;: return all parents irrespective of level;
&#8216;immediate&#8217;: return only the immediate parents;
&#8216;top&#8217;: return only the highest level parents</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.isa">
<code class="descname">isa</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.isa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.isa" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether one entity has an &#8220;isa&#8221; relationship to another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>string</em>) &#8211; Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>string</em>) &#8211; URI for an entity.</li>
<li><strong>ns2</strong> (<em>string</em>) &#8211; Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>string</em>) &#8211; URI for an entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has an &#8220;isa&#8221; relationship with t2, either directly or
through a series of intermediates; False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.partof">
<code class="descname">partof</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.partof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.partof" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether one entity is physically part of another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>string</em>) &#8211; Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>string</em>) &#8211; URI for an entity.</li>
<li><strong>ns2</strong> (<em>string</em>) &#8211; Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>string</em>) &#8211; URI for an entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has a &#8220;partof&#8221; relationship with t2, either directly or
through a series of intermediates; False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../belief/index.html" class="btn btn-neutral float-right" title="Belief Engine (indra.belief)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../literature/index.html" class="btn btn-neutral" title="Literature clients (indra.literature)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, B. M. Gyori, J. A. Bachman.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.5.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>