{% extends base_template %}
{% load i18n static bootstrap3 popupcrud_list bsmodal %}
{% block extrahead %}
<link rel="stylesheet" href="{% static 'popupcrud/css/popupcrud.css' %}" type="text/css" media="screen" title="no title" charset="utf-8">
{% endblock extrahead %}
{% block content %}
{% block create_new %}
{% if new_url %}
<div>
{% if legacy_crud %}
    <a class="btn btn-primary" href="{{ new_url }}" type="link">{{ new_button_text }}</a>
{% else %}
    <a class="btn btn-primary" href="javascript:void(0);" name="create_edit_object" type="link" data-url="{{ new_url }}" data-title="{{ new_button_text }}">{{ new_button_text }}</a>
{% endif %}
</div>
{% endif %}
{% endblock create_new %}
{% if object_list %}
{% list_content %}
{% include "popupcrud/_pagination.html" %}
{% else %}
<p>{% block empty_table_label %}{% trans "No items." %}{% endblock empty_table_label %}</p>
{% endif %}
{% if not legacy_crud %}
{% bsmodal '??' 'create-edit-modal' close_title_button=Yes header_bg_css=bg-primary %}
    {# modal body will be filled in by jQuery.load(<new_object_url>) return value #}
    ??
{% endbsmodal %}
{% trans 'Confirm Delete' as confirm_delete_title %}
{% bsmodal confirm_delete_title 'delete-modal' close_title_button=Yes header_bg_css=bg-primary %}
    <strong>{{ model_options.verbose_name }}:</strong><br/> <span id='id_object_name'></span><br/>
    <br/>
    <p>{% trans 'Are you sure you want to delete this?' %}</p>
    <form role="form" id="delete-form" action="" method="post">
        {% csrf_token %}
        <div class="form-group">
            <button type="submit" class="btn btn-danger">{% trans 'Yes' %}</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal">{% trans 'No' %}</button>
        </div>
    </form >
{% endbsmodal %}
{% trans 'Deleted' as deleted %}
{% bsmodal deleted 'delete-result-modal' close_title_button=Yes header_bg_css=bg-primary %}
    <div id='id_delete_result'></div><br/>
    <div class="text-center form-group">
        <button type="button" class="btn btn-default" data-dismiss="modal">{% trans 'Close' %}</button>
    </div>
{% endbsmodal %}
<script src="{% static 'popupcrud/js/popupcrud.js' %}" type="text/javascript" charset="utf-8"></script>
{% endif %} {# legacy_crud #}
{% endblock content %}
